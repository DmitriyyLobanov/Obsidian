 2024-09-28 18:57

### Модификаторы

В качестве дополнительных параметров в функции для работы с датами и временем могут передаваться модификаторы, которые позволяют уточнить дату и время. В SQLite применяются следующие модификаторы:

- `NNN days`: задает смещение на несколько дней. Например, получение даты, которая была 7 дней до определенной:
    
    `SELECT` `date``(``'2021-12-31'``,` `'-7 days'``);`   `-- 2021-12-24`|
    
- `NNN hours`: задает смещение на несколько часов. Например, получение времени, которое будет через три часа:
    
    |`SELECT` `time``(``'19:12'``,` `'3 hours'``);`    `-- 22:12:00`|
    
- `NNN minutes`: задает смещение на несколько минут.
    
    `SELECT` `time``(``'19:12'``,` `'35 minutes'``);` `-- 19:47:00`|
    
- `NNN.NNNN seconds`: задает смещение на секунд.
    
    `SELECT` `time``(``'19:12'``,` `'-45.1 seconds'``);`  `-- 19:11:14`|
    
- `NNN months`: задает смещение на месяцев.
    
    |   |   |
    |---|---|
    |1|`SELECT` `date``(``'2021-12-31'``,` `'-7 months'``);` `-- 2021-05-31`|
    
- `NNN years`: задает смещение на несколько лет.
    
    `SELECT` `date``(``'2021-12-31'``,` `'11 years'``);`  `-- 2032-12-31`|
    
- `start of month`: сдвигает дату на первый день месяца:
    
    `SELECT` `date``(``'2021-11-26'``,` `'start of month'``);`    `-- 2021-11-01`|
    
- `start of year`: сдвигает дату на первый день года:
    
    |   |   |
    |---|---|
    |1|`SELECT` `date``(``'2021-11-26'``,` `'start of year'``);` `-- 2021-01-01`|
    
- `start of day`: сдвигает время на начало дня:
    
    `SELECT` `time``(``'16:32'``,` `'start of day'``);`   `-- 00:00:00`|
    
- `weekday N`: сдвигает дату на определенный день текущей недели/ Для воскресения передается число 0, для понедельника - число 1 и так далее:
    
	`SELECT` `date``(``'2021-12-01'``,` `'weekday 0'``),` `-- 2021-12-05`<br><br>        `date``(``'2021-12-01'``,` `'weekday 1'``),` `-- 2021-12-06`<br><br>        `date``(``'2021-12-01'``,` `'weekday 6'``);` `-- 2021-12-04`|
    
- `unixepoch` возвращает количество секунд, которые прошли с момента начала эпохи UNIX. Работает правильно только с форматом "DDDDDDDDDD"
    
- `localtime`: получает локальное время
    
- `utc`: получает время относительно UTC
    
    `SELECT` `time``(``'12:33:24'``,` `'localtime'``),` `-- 16:33:24`<br><br>        `time``(``'16:33:24'``,` `'utc'``);` `-- 12:33:24`|
    

Можно передавать сразу несколько модификаторов:

|            |                                                                                                                                                                                         |
| ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1<br><br>2 | `SELECT` `date``(``'now'``,` `'-2 days'``,` `'1 months'``),`  `-- 2021-12-29`<br><br>    `datetime(``'2021-12-01 12:33'``,` `'start of day'``,` `'5 days'``);` `-- 2021-12-06 00:00:00` |

[[функции SQL]]
#SQL 
#Learn