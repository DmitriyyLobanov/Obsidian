 2024-08-1514:09

Один из принципов REST

>Так же к принципу единообразия интерфейса относят возможность работать с ресурсами сервера единообразно, с помощью [[HTTP CRUD]]  операций.
>Туда же можно отнести нейминг конечных точек для доступа к ресурсу.
>как пример:
>GET/deposit
>POST/deposit
>PUT/deposit
>DELETE/deposit
>Один ресурс и разные методы, применённые к нему.



**Hypermedia as the Engine of Application State (HATEOAS)** — одно из ограничений REST, согласно которому сервер возвращает не только ресурс, но и его связи с другими ресурсами и действия, которые можно с ним совершить.

Рассмотрим пример. Возьмём HTTP-запрос, в котором я хочу получить определенный ресурс:

![Пример запроса ресурса](https://habrastorage.org/r/w1560/getpro/habr/upload_files/c6f/f65/0de/c6ff650de1290dc321400ffaa123f391.png "Пример запроса ресурса")

Пример запроса ресурса

Здесь мы используем HTTP-глагол GET, то есть хотим получить ресурс. Обращаемся к некоторому счёту с номером 12345.

Если бы мы не использовали подход HATEOAS, то получили бы примерно такой XML-ответ:  

![Пример ответа без использования принципа HATEOAS](https://habrastorage.org/r/w1560/getpro/habr/upload_files/f75/1b0/976/f751b09763b4c491b1ac399ca3a051dc.png "Пример ответа без использования принципа HATEOAS")

				Пример ответа без использования принципа HATEOAS

Здесь указан номер счёта, баланс и валюта.

Что же предлагает HATEOAS? Если бы мы с учётом этого ограничения выполняли бы этот запрос, то в ответе получим не только информацию об этом объекте, но и все те действия, которые мы можем с ним совершить. И, если бы у него были бы какие-то важные связанные объекты, мы получили бы ещё и ссылки на них.  

![Пример ответа с использованием принципа HATEOAS](https://habrastorage.org/r/w1560/getpro/habr/upload_files/eff/a5a/0ef/effa5a0efbe600988caa50477b4cad44.png "Пример ответа с использованием принципа HATEOAS")

Пример ответа с использованием принципа HATEOAS

Получая такие ответы, клиент самостоятельно понимает, какие конкретные действия он может совершать над этим объектом и какую ещё информацию о связанных объектах он может получить. Мы даём клиентскому приложению намного больше информации и свободы действий. Логика клиента становится более гибкой, но при этом и более сложной.

Главный плюс этого подхода — клиент становится очень гибким в плане изменений на сервере с точки зрения изменения допустимых действий, изменения модели данных и т.д.

В качестве обратной стороны медали мы получаем сильное усложнение логики, в первую очередь, клиента. Это может потянуть за собой и усложнение логики на сервере, потому что такие ответы нужно правильно формировать. Фактически ответственность за действия, которые совершает клиент, мы передаём на его же сторону. Мы ослабляем контроль валидности совершаемых операций на стороне сервера.


[[REST]]
#Learn