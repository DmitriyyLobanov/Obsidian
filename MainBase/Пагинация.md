 2025-05-11 17:47

Паттерн пагинации более менее прост, я ним даже уже имел дело.
Подразумевается "постраничная" выдача данных пользователю на запрос, вместо выдачи всех данных сразу.
И тут речь не только об организации "красивого" отображения на фронт части. Очень важно понимать, что запрашиваемых данных может быть очень много.
На примере Twapi (книжный, сквозной пример для объяснения паттернов, как twitter, только для примера) Гивакс говорит, что при запросе сообщений конкретного пользователя можно столкнуться с миллионами сообщений и десятками мегабайт веса тела ответа.

Так же, паттерн пагинации (наверное как и многие другие) должен вводиться сразу, чтобы в дальнейшем не ломать логику пользователя вводом новых параметров.

```typeScript
// Чтобы прояснить, какая часть (страница) данных нам нужна,
// мы добавляем в запрос параметр pageToken.
// Мы также добавляем способ, позволяющий указать максимальное количество сообщений,
// которые сервер Twapi должен возвращать в одной части.
// Ответ сервера Twapi будет включать способ получения очередной части сообщений.
// Заметьте, что определение метода остается прежним; здесь изменения не требуются.

abstract class Twapi {
  static version = "v1";
  static title = "Twapi API";

  @get("/{parent=users/*}/messages")
  ListMessages(req: ListMessagesRequest): ListMessagesResponse;
}

interface ListMessagesRequest {
  parent: string;
  pageToken: string;
  maxPageSize?: number;
}

interface ListMessagesResponse {
  results: Message[];
  nextPageToken: string;
}

```




#Джей_Гивакс_Паттерны_проектирования_API 
#Learn
[[Системный анализ]]
[[Джей Гивакс Паттерны проектирования API]]