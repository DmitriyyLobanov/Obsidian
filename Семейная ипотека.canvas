{
	"nodes":[
		{"id":"485f9b7c321fa5c1","type":"text","text":"\n\n<font size = '42'>Семейка!</font>","x":-152,"y":-445,"width":280,"height":110},
		{"id":"38b4a6a3485a3b68","type":"text","text":"1. Изучение постановок рестры\n2. Драфт постановки на FE\n3. BE по совещанию с разрабами\n","x":-457,"y":-145,"width":360,"height":220,"color":"4"},
		{"id":"2d0913a44a604fd1","type":"text","text":"integration-adapter существует по факту, но не отображен в ТИС и АИС, никто конкретно за него не отвечает, все добавляют в него методы по собственной нужде. \nАбсолютно всё что на нём есть можно увидеть только на репе.\n","x":-72,"y":-145,"width":545,"height":300,"color":"1"},
		{"id":"3580bbfdc564ef6a","type":"text","text":"Возможно придётся передавать инфу (собственно речь о изменившейся ставке) не только в ППКФЛ, но и в ОПС \"Отлагательные условия\"","x":-472,"y":225,"width":390,"height":220,"color":"4"},
		{"id":"61a0ff6a76de25fc","type":"text","text":"Что такое отлагательные условия кстати?","x":28,"y":335,"width":250,"height":60,"color":"3"},
		{"id":"8d965cf3979e0c2f","type":"text","text":"На 1442 \"Карточка ФЛ\"\nЕсть в БД анкета ПОДиФТ\nИ отдельно таблица blackList\n","x":-1000,"y":-398,"width":300,"height":145,"color":"3"},
		{"id":"714e0450386e95fc","type":"file","file":"Files/Pasted image 20241121164217.png","x":-1050,"y":-164,"width":400,"height":258},
		{"id":"0451bfbffa29847a","type":"file","file":"Files/Pasted image 20241121164436.png","x":-1450,"y":-520,"width":400,"height":299},
		{"id":"d864c48338da1b49","type":"file","file":"Files/Pasted image 20241121164526.png","x":-1450,"y":-940,"width":400,"height":321},
		{"id":"fbd3b2c11c34bbf0","type":"text","text":"Контакты:\nСистемный аналитик реструктуризации: https://t.me/Its_Britney_boez (Влад Романович)\nСистемный аналитик реструктуризации: https://t.me/starosekdan (Данил Старосек)\nАрхитектор данных - Шахарова Ольга Юрьевна (4106654) oshaharova@vtb.ru\nНаш РО Антон засветил личную почту и номер телефона: 89031827060a@gmail.com","x":-621,"y":-940,"width":721,"height":158},
		{"id":"9aacc319f0cd2d6b","type":"text","text":"Если не писать самим оркестратор, то придется как \"каникулы\" перекладывать оркестрацию на 1830","x":153,"y":-1053,"width":250,"height":271,"color":"1"},
		{"id":"b13968131759e2d4","type":"text","text":"На 26.11.2024 приблизительные сроки вижу следующим образом:\n>Реструктуризация потратила 3 месяца на то чтобы привести БО в то состояние в котором она сейчас есть (кстати хз на каком они этапе, но сделали внушительно). Работали втроём.\n>У нас в команде два SA, сроки можно увеличить минимум на треть, ожидаемые 4 месяца до состояния похожего на уровень реструктуризации.","x":515,"y":-1320,"width":625,"height":220},
		{"id":"abe78e591acefc52","type":"text","text":"Примерная декомпозиция:\n- [x] Модель данных БД\n- [x] Основные постановки от реструктуризации\n      (Проверки, эмуляция графика, создание/изменение/получение поручения и т.д. согласно нашим БТ, всё что можно переиспользовать)\n- [ ] Постановка на front по мере поступления экранных форм\n      (старт вёрстки на FE)\n- [ ] Разработка User Flow \n      (построение документа (расширение постановки) с перечислением методов взаимодействия FE и BE)\n- [ ] Проработать шедулеры\n    \n- [ ] Интеграция с OpsNext для ручного разбора заявок (А может быть не с самой ЕРМ ОПС, а системой её администрирования 2197 СУБО Администрирование)\n\n1. Модель данных\n2. REST endpoints\n3. FRONT работы\n4. Scheduler, логирование, мониторинг, аудит\n\nШедулеры (1438302):\n- [ ] Отложенное создание заявки (+ обновление заявки)\n- [ ] Повторные проверки\n- [ ] Отправка нотификации\n- [ ] Аннулирование заявок по времени (м.б несколько отдельных шедулеров, м.б. 1 универсальный)","x":520,"y":-1080,"width":625,"height":640,"color":"5"},
		{"id":"be3f2359e1ae6731","type":"text","text":"<font size = '42'>Дейли</font>\n\n\n","x":-479,"y":586,"width":479,"height":114},
		{"id":"6005801d39473800","type":"file","file":"Files/Pasted image 20241208200011.png","x":-3840,"y":2256,"width":1684,"height":228},
		{"id":"52a3c3d3d3979212","type":"text","text":"Принято решение завести у себя атрибуты:\n1. Код филиала в том же виде, что у каникул\n2. Часовой пояс клиента **client_time_zone**","x":-3840,"y":2100,"width":420,"height":120,"color":"4"},
		{"id":"e2daca8b296501d0","type":"text","text":"Почему в БД нет явно прописанной связи \"Один к одному\" между сущностями \"Поручение\" и \"Запрос на создание поручения\" если она подразумевается в постановках и в коде?","x":-3864,"y":2880,"width":954,"height":100},
		{"id":"27ee05db6df31968","type":"text","text":"На схеме в локал вот так:","x":-3864,"y":3000,"width":250,"height":60},
		{"id":"56cc3506478ec228","type":"file","file":"Files/Pasted image 20241209230714.png","x":-3864,"y":3085,"width":954,"height":235},
		{"id":"6ae4228a64209e05","type":"text","text":"На st DB вот так:","x":-3864,"y":3360,"width":250,"height":60},
		{"id":"6a830e6938eddaee","type":"file","file":"Files/Pasted image 20241210094644.png","x":-3864,"y":3440,"width":465,"height":460},
		{"id":"b4a9c40a3bb8170b","type":"text","text":"На создании поручения вот так:","x":-3864,"y":3920,"width":427,"height":60},
		{"id":"0aa7356df234d870","type":"file","file":"Files/Pasted image 20241209231035.png","x":-3864,"y":3980,"width":889,"height":260},
		{"id":"b6671a08c558fc80","type":"text","text":"А вот потому что и таблицы то такой нет \"запрос на создание поручения\", оказывается есть таблица \"гарантор консистентности поручения\", немного переработанная первая таблица в которой есть uuid записи и возможность помечать записи как СОЗДАНИЕ/ОБНОВЛЕНИЕ поручения. \nСоответственно связь с основной таблицей поручения там \"один ко многим\"","x":-2844,"y":2880,"width":752,"height":367,"color":"4"},
		{"id":"9456ed25e07b8963","type":"file","file":"Files/Pasted image 20241210101938.png","x":-2844,"y":3306,"width":1013,"height":274},
		{"id":"05123cebce5b4c4f","type":"file","file":"Files/Pasted image 20241210103738.png","x":-2844,"y":3660,"width":1013,"height":278},
		{"id":"00ac227ae62efbd2","type":"text","text":"Новая таблица","x":-2353,"y":3253,"width":250,"height":60},
		{"id":"3d8eab3e6d8fbe40","type":"text","text":"Старая таблица","x":-2353,"y":3600,"width":250,"height":60},
		{"id":"6c1a216e0010662b","type":"text","text":"Принято решение переделать таблицу \"данные для создания заявки\", но с обязательным UUID, вынесенным в отдельный атрибут type и измененными неймингами.","x":-3864,"y":2740,"width":866,"height":120,"color":"4"},
		{"id":"c9bf876186ea32cd","type":"file","file":"Files/Pasted image 20241217133026.png","x":-3864,"y":4600,"width":584,"height":677},
		{"id":"e0c541b0777787f0","type":"text","text":"Была не понятна природа этих хедеров. Из разговора с аналитиком каникул выяснилось следующее:\n-\"То-есть я прав и bff на наш бек прокидывает с запросом эти хедеры, которые потом бек передаёт на app с запросом на создание заявки\"\n-\"Грубо говоря да\"","x":-3870,"y":4420,"width":866,"height":140,"color":"4"},
		{"id":"4ff6503eeeea1c07","type":"text","text":"Что с телами ответов? Как фронт понимает какое ветвление должно быть использовано, если метод создания имеет\nв ответе только идентификаторы поручения и заявки (опционально)","x":-3840,"y":5680,"width":935,"height":126,"color":"1"},
		{"id":"cb8a4eb2b0f1ba4d","type":"text","text":"Спросить у рестры зачем у них вызывается метод создания поручения при непрохождении фатальной проверки. Дело в БТ? Или недосмотр?","x":-3358,"y":5988,"width":878,"height":212,"color":"1"},
		{"id":"fa088b8c087fd448","type":"file","file":"Files/Pasted image 20241217165406.png","x":-3840,"y":5820,"width":1668,"height":133},
		{"id":"a9166c426d63a0c7","type":"text","text":"Принято решение не вызывать метод создания поручения при результате от метода автопроверок, означающем фатальную ошибку.\nНа фронте маршрутизируем на страницу с отказом и всё.","x":-3840,"y":5520,"width":866,"height":140,"color":"4"},
		{"id":"c302b57396d85cfd","type":"text","text":"<font size = '42'>GET /productProfile/details - ОТВЕТ</font>\n\n```json\n{\n  \"data\": {},                         //Базовые атрибуты детальной информации по продукту\n  \"errorString\": \"string\",            // Описание ошибки\n  \"result\": \"string\",                 // Результат запроса\n  \"loadingInfo\": {                    // Информация о загрузке продуктов из бек-систем\n    \"subSystems\": \"string\",\n    \"subSystemUserId\": \"string\"\n  },\n  \"mdmId\": \"string\"                   // id клиента\n}\n```\n","x":7130,"y":-1308,"width":1000,"height":416},
		{"id":"e8a696b819125d1d","type":"text","text":"<font size = '42'>data</font>\n\nДля каждого из продуктов возвращается не DetailBaseEntity, а наследник в зависимости от типа запрашиваемого продукта\nCardDetail\nLoanDetail - кредит\nAccountDetail\nDepositDetail\nInsuranceContractDetail\nExcrow\nAkkreditiv\nAccountDetailExtCards\nInvestAgreementDetail","x":7275,"y":-598,"width":711,"height":499},
		{"id":"8a7cfa79e5b9d06d","type":"text","text":"<font size = '42'>GET /prodProcCredit/details - ЗАПРОС</font>\n\n```json\n{\n  \"metadata\": {},\n  \"data\": {\n    \"retailLoanProductInstance\": {\n      \"id\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n      \"system\": \"string\",\n      \"participants\": {\n        \"type\": \"string\",\n        \"party\": {\n          \"id\": \"string\",\n          \"system\": \"string\"\n        }\n      }\n    }\n  }\n}\n```\n","x":7380,"y":-2476,"width":1000,"height":596},
		{"id":"4d4b4a5e7a144c9f","type":"text","text":"<font size = '42'>GET /prodProcCredit/details - ОТВЕТ</font>\n\n```json\n{\n  \"status\": {                                     // Статус выполнения операции\n    \"bcode\": \"string\",                            // Бизнес-код ошибки\n    \"message\": \"string\",                          // Текст ошибки\n    \"tid\": \"string\",\n    \"cid\": \"string\",\n    \"eid\": \"string\",                              // Идентификатор ошибки\n    \"generator\": \"string\"                         // Код системы сгенерировавшей ошибку\n  },\n  \"data\": {\n    \"retailLoanProductInstance\": {                // Экземпляр продукта Кредит клиента\n      \"number\": \"string\",                         // Номер экземпляра продукта\n      \"amount\": {                                 // Размер кредита\n        \"amount\": 0,                              \n        \"value\": 0,                               // Сумма\n        \"currency\": \"string\"                      // Валюта\n      },\n      \"type\": \"string\",                           // Тип продукта (CashLoan(кредит наличными), Auto(автокредит), Mortgage(ипотека), MilitaryMortgage)\n      \"businessProduct\": {                        // \n        \"dictionaryId\": \"string\",                 // Идентификатор справочника\n        \"dictionarySystem\": \"string\",             // Система справочника\n        \"key\": \"string\",                          // Бизнес-ключ записи в справочнике\n        \"keyName\": \"string\"                       // Название ключа (константа value)\n      },\n      \"status\": \"string\",                         // Draft(Драфт), Pending(ожидание), Active(активный), Closed(Закрыт)\n      \"reasonStatus\": {                           // Основание изменения статуса\n        \"code\": \"string\",                         // Код\n        \"info\": \"string\"                          // Информация\n      },\n      \"lifeSpan\": {                                      // Срок действия продукта\n        \"effectiveTime\": \"2024-11-28T09:56:21.452Z\",     // Дата начала\n        \"expirationTime\": \"2024-11-28T09:56:21.452Z\",    // Дата окончания\n        \"revocationTime\": \"2024-11-28T09:56:21.452Z\"     // Дата отзыва\n      },\n      \"revocationInfo\": {},                              // Причина отзыва\n      \"supportBranch\": {                                 // Филиал сопровождения\n        \"dictionaryId\": \"string\",                        // Идентификатор справочника\n        \"dictionarySystem\": \"string\",                    // Система справочника\n        \"key\": \"string\",                                 // Бизнес-ключ записи в справочнике\n        \"keyName\": \"string\"                              // Название ключа\n      },\n      \"issueTime\": \"string\",                             // Дата выдачи кредита\n      \"relatedProducts\": [                               // Связанные продукты\n        {\n          \"type\": \"string\",                              // Тип Parent(Родительский), Tranche(Транш), Linked(Связанный), Restructured(Реструктуризированный)\n          \"productInstance\": {                           // Экземпляр продукта\n            \"id\": \"string\",                              // Идентификатор\n            \"system\": \"string\"                           // Система\n          }\n        }\n      ],\n      \"arrangements\":                                      // Параметры обслуживания\n        \"retailLoanProductInstanceRateArrangement\": [      // Соглажение о начислении процентов (список действующих(неотозванных) соглашений данного типа )\n          {\n            \"productSubAccountType\": {                     //Тип продуктового субрегистра\n              \"dictionaryId\": \"string\",                    // Идентификатор справочника \n              \"dictionarySystem\": \"string\",                // Система справичника\n              \"key\": \"string\",                             // Бизнес-ключ записи в справочнике\n              \"keyName\": \"string\"                          // Название ключа\n            },\n            \"rateType\": \"string\",                          // Тип ставки (Current(текущая), Preferential(льготная), Zpr(ЗПР), Dsk(ДСК), Pps(ППС), VNS(Ваша низкая ставка), Subsidy(субсидированная))\n            \"periodType\": \"string\",                        // Периодичность ставки\n            \"currentValue\": \"string\",                      // Ставка\n            \"date\": \"2024-11-28\",                          // Дата начала действия ставки\n            \"activeRate\": true,                            // Признак действия ставки\n            \"reason\": {                                    // Причина изменения\n              \"dictionaryId\": \"string\",                    // Идентификатор справочника\n              \"dictionarySystem\": \"string\",                // Система справочника\n              \"key\": \"string\",                             // Бизнес-ключ записи в справочнике\n              \"keyName\": \"string\"                          // Название ключа\n            }\n          }\n        ],\n        \"retailLoanProductInstanceHolidayArrangement\": [   // Согдашение о предоставлении каникул\n          {\n            \"gracePeriod\": {                               // Льготный период\n              \"from\": \"2024-11-28\",                        // Дата начала\n              \"due\": \"2024-11-28\"                          // Дата окончания\n            },\n            \"holidayType\": {                               // Тип \n              \"key\": \"string\"                              // Бизнес-ключ записи в справочнике\n            }\n          }\n        ]\n      }\n    }\n  }\n}\n```\n","x":8990,"y":-3800,"width":1600,"height":2084},
		{"id":"2351cb701e9e1a70","type":"text","text":"<font size = '42'>loanDetail</font>\n\n| Имя                        | Описание                                                                                              |\n| -------------------------- | ----------------------------------------------------------------------------------------------------- |\n| alias                      | Пользовательское название продукта                                                                    |\n| balance                    | Доступный остаток                                                                                     |\n| closeDate                  | Дата закрытия                                                                                         |\n| entityId                   | Номер счета погашения (запрещено к использованию)                                                     |\n| entityLastTrans            | Дата последней транзакции (не использовать)                                                           |\n| entityLocalId              | Идентификатор в локальной системе                                                                     |\n| entityName                 | Имя продукта                                                                                          |\n| entitySubSystems           | Система которой принадлежит продукт                                                                   |\n| entityType                 | Тип продукта                                                                                          |\n| expireDate                 | Планируемая дата закрытия                                                                             |\n| extended                   | Не использовать                                                                                       |\n| externalIdPart1            | не использовать                                                                                       |\n| externalIdPart2            | не использовать                                                                                       |\n| favorite                   | избранное                                                                                             |\n| icon                       | иконка                                                                                                |\n| mayCredit                  | кредитование счета                                                                                    |\n| mayDebit                   | дебетирование счета                                                                                   |\n| openDate                   | дата открытия                                                                                         |\n| organisationUnit           | код филиала банка                                                                                     |\n| branch                     | код филиала банка                                                                                     |\n| publicId                   | публичный идентификатор продукта                                                                      |\n| state                      | статус загрузки из учетной системы                                                                    |\n| version                    | не использовать                                                                                       |\n| status                     | статус кредита                                                                                        |\n| timestamp                  | дата последней загрузки продукта из учетной системы                                                   |\n| userId                     | идентификатор пользователя                                                                            |\n| valid                      | не использовать                                                                                       |\n| visible                    | флаг видимый продукт                                                                                  |\n| account                    | номер счета погашения кредита                                                                         |\n| accuredInterest            | начисленные проценты                                                                                  |\n| advancedRepaymentAmount    | общая сумма задолженности включая просрочки и штрафы                                                  |\n| cardNumber                 | номер карты                                                                                           |\n| contrPeriod                | срок договора в месяцах                                                                               |\n| contrSum                   | начальная сумма кредита                                                                               |\n| contractType               | тип контракта (например MORTGAGE)                                                                     |\n| currentAmount              | Текущая задолженность                                                                                 |\n| currentInterest            | текущая задолженность. Проценты                                                                       |\n| unusedLimit                | неиспользованный лимит                                                                                |\n| duePrincipal               | основной долг                                                                                         |\n| endPaymentDate             | дата окончания платёжного периода                                                                     |\n| hasOverdue                 | признак просрочки платежа                                                                             |\n| isClosed                   | флаг закрыто ли                                                                                       |\n| lastPaymentAmount          | сумма последнего платежа                                                                              |\n| lastPaymentDate            | дата последнего платежа                                                                               |\n| loanRest                   | текущий остаток                                                                                       |\n| mortgage                   | признак ипотечного кредита                                                                            |\n| nis                        | признак принадлежности договора к Накопительно-ипотечной системе жилищного обеспечения военнослужащих |\n| number                     | номер договора по кредиту                                                                             |\n| pastDue                    | основная сумма просроченной задолжности                                                               |\n| pastDueAmount              | общая сумма просроченной задолженности                                                                |\n| pastDueInterest            | проценты по просроченной задолженности                                                                |\n| pastDueInterestPentality   | штраф за просроченную выплату процентов                                                               |\n| pastDuePentality           | штраф за просроченную выплату                                                                         |\n| pastDueComission           | комиссия                                                                                              |\n| pastDueComissionPentality  | штраф за просроченную выплату комиссии                                                                |\n| paymentAccuredInterest     | начисленные проценты                                                                                  |\n| paymentCurrentInterest     | проценты за текущий период                                                                            |\n| planningPaymentAmount      | сумма планового платежа                                                                               |\n| planningPaymentDate        | дата планового платежа                                                                                |\n| trunsh                     | тип траншей                                                                                           |\n| rate                       | ставка по кредиту %                                                                                   |\n| unusedLimit                | сумма неиспользованного кредитного лимита (не работает, инфы нет)                                     |\n| daysDelay                  | количество дней просрочки                                                                             |\n| pastDueDate                | дата возникновения просрочки                                                                          |\n| insurance                  | признак наличия страховки                                                                             |\n| dateDelays                 | дата возникновения просрочки?                                                                         |\n| companyName                | название компании работодателя                                                                        |\n| loanAccount                | номер ссудного счета по кредиту                                                                       |\n| incompleteRegistrationInfo | коллекция. Информация по зарегистрированным частичным досрочным погашениям                            |\n| totalRegistrationInfo      | коллекция. Информация по зарегистрированным полным досрочным погашениям                               |\n| region                     | регион                                                                                                |\n| salePoint                  | код точки продажи                                                                                     |\n| originalLoanInfo           | данные исходного клиентского кредита                                                                  |\n| paymentHoliday             | кредитные каникулы                                                                                    |\n| finalPaymentDate           | дата последнего платежа по графику                                                                    |\n| debtList                   | детализация информации о задолженностях                                                               |\n| collateralList             | список залогов по договору                                                                            |\n| bankingProductCode         | код бизнес-продукта                                                                                   |\n| yourRate                   | данные услуги \"ваша ставка\"                                                                           |\n| borrowerInfo               | данные заёмщика                                                                                       |\n| pastStateDuty              | госпошлина                                                                                            |\n| isSoldOut                  | признак полной продажи договора                                                                       |\n| repaymentDelayDate         | дата исполнения заявления на погашение просроченной задолженности                                     |\n","x":8201,"y":-134,"width":711,"height":1440},
		{"id":"9e52b804930d565e","type":"text","text":"https://название-микросервиса.ipo-sk1.apps.innodev.local/swagger-ui.html#\n","x":5880,"y":-1688,"width":803,"height":60,"color":"6"},
		{"id":"679764d437565081","type":"text","text":"Нужны тела ответов методов.\n**ipo-mlsrv-integration-adapter**:\n\tGET /prodProcCredit/details    (ПродПроц 2199)\n\tGET /productProfile/details     (ПродПрофиль 1503)\n\tGET/client/{mdmid}                  (Карточка ФЛ 1442)\n","x":6057,"y":-1547,"width":523,"height":339,"color":"6"},
		{"id":"75c891811adf35ff","type":"text","text":"\n| <font size = '42'>Создание поручения. Тезисы и вопросы к написанию постановки </font> |\n| ------------------------------------------------------------------------------------- |\n\n1. Выяснить как заполняется assigneeId\n   - [x] Вычитать в БТ момент создания заявки, акцент на действующее лицо\n   - [x] Найти в артефактах инфу по **mlsrv-autoassigment**\n   - [x] Найти и смаппить потенциально полезные методы и справочники\n   - [x] Связаться с кем то по этому мкс и выяснить всё окончательно.\n\n2. Выяснить как происходит ветвление на фронте относительно создания заявки\n","x":8196,"y":8735,"width":1045,"height":1115},
		{"id":"b883a4748fc81596","type":"text","text":"\n| <font size = '42'>Обновление поручения. Тезисы и вопросы к написанию постановки </font> |\n| --------------------------------------------------------------------------------------- |\n\n1. если rejectionCheckCode != null - прописать ошибки, !=200 ок это недостаточно, если **rejectionCheckCode == значению, соответствующему BLOCKING или NON_BLOCKING** необходимо произвести проверку на то, что проверка соответствует **is_active == true.** Так же нужно вопрос: мы же на повторных проверках пуляем только блокирующие, но \n   Нужно проработать кейс с тем, что нам как минимум тестировщик может прокинуть код фатальной ошибки, так же на уровне валидации этот момент продумать.\n2. Если ответ от app !=200 ОК - сервис продолжает алгоритм работы (здесь будет шедулер). Не прописана логика создания записи в аутбокс, создания связи между записями. Шедулер то оно понятно, но должна быть описана логика создания записи в аутбоксе, потому что шедулер будет брать записи там\n   ","x":8196,"y":9975,"width":1045,"height":1115},
		{"id":"3df1b1223087609a","type":"text","text":"\n\n<font size = '42'>Обновление поручения!</font>","x":5866,"y":10393,"width":561,"height":162,"color":"6"},
		{"id":"065d09ce375c5e1a","type":"text","text":"4. Провести ревью постановки от Маши.","x":6641,"y":10423,"width":388,"height":80,"color":"5"},
		{"id":"d1cdfec392131981","type":"text","text":"Каникулы захардкодили этот момент и всегда используют одно и тоже ","x":9543,"y":8735,"width":874,"height":60,"color":"1"},
		{"id":"e38bfcdda7292376","type":"text","text":"Рестра завязана на секьюритизацию кредита, если кредит секьюритизирован то заявка назначается на ЦП 5, если нет, то назначение БУДЕТ реализовано на 4 основные ЦП","x":9543,"y":9055,"width":874,"height":80,"color":"1"},
		{"id":"3d152336fe83a5cf","type":"text","text":"У нас прописано что сотрудник МС, что это? Кто это?\nПодразумевается что в коде договора есть зашитый код доп офиса, который привязан к конкретному ЦП, нужно выяснить есть ли интеграция с системой в которой эти справочники живут и использовать её, ну или если её нет, временно захардкодить значения и позже проработать интеграцию\n","x":9543,"y":9375,"width":874,"height":160,"color":"1"},
		{"id":"e22a29db9ae53e0a","type":"file","file":"Files/Pasted image 20241219095507.png","x":9543,"y":8822,"width":2416,"height":113},
		{"id":"9e3df1215a470890","type":"file","file":"Files/Pasted image 20241219110819.png","x":9543,"y":9159,"width":1915,"height":134},
		{"id":"1fdd8a7c56eb3849","type":"file","file":"Files/Pasted image 20241219112613.png","x":9543,"y":9555,"width":400,"height":86},
		{"id":"5a40b7480f4dab96","type":"text","text":"На autoassignment есть специальные справочники, в которых стороной бизнеса (или командой Жени Рудаковой для тестовых стендов) занесены связи между бизнес операцией, точкой продажи кредита и ЦП на который нужно заявку назначить.\n\nДаже для случая с тестовыми стендами необходимо согласовать с бизнесом связи на автоназначение.\n\nP.s на каждом ЦП есть свой технический пользователь, заявку необходимо назначать на него, а пользователи потом сами разбирают заявки для работы.\n\nПостановки на тему справочников и их использования:\n- 615313 - Архив постановок\n- 622443 - Авто назначение\n\n","x":12601,"y":8948,"width":977,"height":427,"color":"4"},
		{"id":"d794c9a6dd1c6b96","type":"text","text":"Справочники настраивают пользователи с ролью \"бизнес администратор\"\n","x":14481,"y":9375,"width":640,"height":239},
		{"id":"9a8c6646e798358e","type":"text","text":"- [ ] Завести запись о типе бизнес операции\n- [ ] Завести записи на автоназначении \n- [ ] Где лежат справочники salePoint?\n- [ ] Что выбирать в случае \"исключительной ситуации назначения\"\nЖеня Рудакова или  Денис Багдасаров - контакты\nметод department/target живет на autoassignment\nметод employee живет очевидно где","x":13672,"y":9030,"width":509,"height":263},
		{"id":"08b6d1d78ba1e662","type":"text","text":"BO_14 это не наша БО как выяснилось, нам нужно завести свою!\nВероятно в справочнике на стороне **app**.","x":14241,"y":9015,"width":639,"height":60,"color":"1"},
		{"id":"93c4c56ed4a9b507","type":"file","file":"Files/Pasted image 20241223141811.png","x":14241,"y":9088,"width":2123,"height":96},
		{"id":"f1d143597c695cf2","type":"file","file":"Files/Pasted image 20241223154502.png","x":13672,"y":9375,"width":709,"height":445},
		{"id":"26508692226d1aaf","type":"text","text":"<font size = '42'>POST/api/v1/restructuring - ЗАПРОС</font>\n\n```json\n{\n  \"scheme\": \"LOAN_EXTENSION\",                          //Схема реструктуризации\n  \"startDate\": \"2024-09-25\",                           //дата начала рестры\n  \"endDate\": \"2024-11-25\",                             //дата окончания рестры\n  \"requestClientDate\": \"2024-09-25\",                   //дата обращения клиента\n  \"deferment\": 6,                                      //кол-во месяцев отсрочки уплаты основного долга\n  \"extension\": 12,                                     //кол-во месяцев увеличения срока кредита\n  \"publicId\": \"90A78254D6654AAD97AC198F6B62A3C9\",      //публичный id продукта в 1503 ПродПроф\n  \"productId\": \"a8513564-bcd3-443f-98cf-64361c907fac\", //id продукта в ПП2199\n  \"rejectionCheckCode\": \"MaxCreditPeriodAll\",          //код непройденной проверки\n  \"isProductSecuritized\": false,                       //признак секьюритизированного кредита\n  \"resultId\": 2,                                       //id результата заявки\n  \"application\": {                                     //данные для создания заявки\n    \"stageId\": 3243,                                   //id этапа\n    \"priorityId\": 2,                                   //id приоритета\n    \"contract\": {                                      //данные кредитного дела\n      \"extId\": \"OIUE9u2734798H7783\",                   //публичный id продукта в 1503 ПродПроф\n      \"contractNumber\": \"V623/0000-0000060\",           //номер договора\n      \"contractDate\": \"2020-08-12\",                    //дата заключения договора\n      \"contractProductId\": \"КРФЛ\",                     //идентификатор продукта\n      \"contractSalePoint\": \"3900\",                     //точка заключения договора\n      \"collaterals\": [                                 //залоги\n        {\n          \"collateralCode\": \"3.1.2.1\"                  //код типа залога\n        }\n      ]\n    },\n    \"applicant\": {                                     //данные заявителя\n      \"extId\": \"124432\",                               //Идентификатор клиента mdm id\n      \"lastName\": \"Гафниев\",\n      \"firstName\": \"Герман\",\n      \"middleName\": \"Гальевич\",\n      \"birthDate\": \"1996-06-18\",\n      \"segment\": \"Mass\",\n      \"documents\": [\n        {\n          \"series\": \"6000\",\n          \"number\": \"234567\",\n          \"documentTypeId\": 1\n        }\n      ],\n      \"contacts\": [\n        {\n          \"contactTypeId\": 1,                            //1 - phone, 2 - mail\n          \"contact\": \"9028763892\"\n        }\n      ]\n    },\n    \"applicationTypeCode\": \"BO_236\",                     //Код типа заявки \"ВО_236\"\n    \"description\": \"Первичная консультация\",             //на рестре не заполняют\n    \"currentUserId\": 1,                                  //пользователь проводящий операцию, = creatorId\n    \"sourceSystem\": \"ВТБПро\",                            //система источник заявки\n    \"plannedStartDate\": \"2024-08-22\",                    //Плановая дата начала выполнения заявки\n    \"plannedEndDate\": \"2024-09-22\",                      //плановая дата выполнения заявки\n    \"registrationDate\": \"2024-12-10T12:55:19.530Z\",      //дата и время регистрации заявки\n    \"creatorId\": 2,                                      //id сотрудника инициатора\n    \"assigneeId\": 7794,                                  //id сотрудника исполнителя\n    \"relationType\": \"Debtor\"                             //роль клиента в договоре\n  }\n}\n```","x":8201,"y":1775,"width":1100,"height":992},
		{"id":"311ddbf6736e6f32","type":"text","text":"<font size = '42'>POST/api/v1/restructuring - ОТВЕТ</font>\n```json\n{\n  \"id\": 5153135,          //id поручения на проведение рестры\n  \"applicationId\": 515    //id заявки в app\n}\n```","x":9681,"y":2012,"width":1100,"height":259},
		{"id":"a7af43692a827ff3","type":"text","text":"Сваггер рестры:\nhttps://ipo-mlsrv-restructuring.ipo-sk1.apps.innodev.local/swagger-ui/index.html","x":7121,"y":3085,"width":821,"height":60,"color":"4"},
		{"id":"d8d7c4b368bccc07","type":"text","text":"У каникул не работает сваггер!","x":7121,"y":3195,"width":250,"height":60,"color":"1"},
		{"id":"5f5d39e9fa20e1bc","type":"text","text":"<font size = '42'>POST/holidays - ОТВЕТ</font>\n```json\n{\n  \"id\": 5153135,          //id поручения на проведение рестры\n  \"applicationId\": 515    //id заявки в app\n}\n```","x":9681,"y":3531,"width":1100,"height":259},
		{"id":"a33fda7a478489c8","type":"text","text":"<font size = '42'>POST/holidays - ЗАПРОС</font>\n\n```json\n{\n  \"holidaysApplication\": {                               //данные по поручению\n    \"holidaysTypeId\": 4,                                 //id типа каникул\n    \"holidayBaseCode\": 6,                                //код основания для предоставления каникул\n    \"holidaysDeclareId\": 4,                              //id заявителя по 377 каникулам\n    \"startHolidaysDate\": \"2020-08-12\",                    //дата начала каникул, обязателен если approveDecision==true\n    \"endHolidaysDate\": \"2020-08-12\",                      //дата окончания каникул, обязателен если approveDecision==true\n    \"durationPeriod\": 3,                                 //период подключения каникул\n    \"requestHolidaysDate\": \"2020-08-12\",                 //дата обращения клиента, обязателен если approveDecision==true\n    \"publicId\": \"string\",                                //публичный id продукта в 1503\n    \"productId\": \"string\",                                //id жкземпляра продукта в 2199\n    \"branch\": \"00056\",                                   //код филиала банка, обязателен если approveDecision==true\n    \"timeZoneDiff\": \"+7\", \n    \"approvedDecision\": \"false\",                         //признак положительного решения по проверкам\n    \"statusName\": \"string\",                              //статус поручения\n    \"resultName\": \"string\",                              //результат заявки\n    \"rejectionCheckCode\": \"string\",                      //код непройденной проверки\n    \"planningTerminationDate\": \"2020-08-12\",             //планируемая дата окончания каникул\n    \"isMarketingOffer\": \"false\",                         //флаг маркетингового предложения\n  },                                       \n  \"application\": {                                     //данные для создания заявки\n    \"stageId\": 3243,                                   //id этапа\n    \"priorityId\": 2,                                   //id приоритета\n    \"contract\": {                                      //данные кредитного дела\n      \"extId\": \"OIUE9u2734798H7783\",                   //публичный id продукта в 1503 ПродПроф\n      \"contractNumber\": \"V623/0000-0000060\",           //номер договора\n      \"contractDate\": \"2020-08-12\",                    //дата заключения договора\n      \"contractProductId\": \"КРФЛ\",                     //идентификатор продукта\n      \"contractSalePoint\": \"3900\",                     //точка заключения договора\n      \"collaterals\": [                                 //залоги\n        {\n          \"collateralCode\": \"3.1.2.1\"                  //код типа залога\n        }\n      ]\n    },\n    \"applicant\": {                                     //данные заявителя\n      \"extId\": \"124432\",                               //Идентификатор клиента mdm id\n      \"lastName\": \"Гафниев\",\n      \"firstName\": \"Герман\",\n      \"middleName\": \"Гальевич\",\n      \"birthDate\": \"1996-06-18\",\n      \"segment\": \"Mass\",\n      \"documents\": [\n        {\n          \"series\": \"6000\",\n          \"number\": \"234567\",\n          \"documentTypeId\": 1\n        }\n      ],\n      \"contacts\": [\n        {\n          \"contactTypeId\": 1,                            //1 - phone, 2 - mail\n          \"contact\": \"9028763892\"\n        }\n      ]\n    },\n    \"applicationTypeCode\": \"BO_236\",                     //Код типа заявки \"ВО_236\"\n    \"description\": \"Первичная консультация\",             //на рестре не заполняют\n    \"currentUserId\": 1,                                  //пользователь проводящий операцию, = creatorId\n    \"sourceSystem\": \"ВТБПро\",                            //система источник заявки\n    \"plannedStartDate\": \"2024-08-22\",                    //Плановая дата начала выполнения заявки\n    \"plannedEndDate\": \"2024-09-22\",                      //плановая дата выполнения заявки\n    \"registrationDate\": \"2024-12-10T12:55:19.530Z\",      //дата и время регистрации заявки\n    \"creatorId\": 2,                                      //id сотрудника инициатора\n    \"assigneeId\": 7794,                                  //id сотрудника исполнителя\n    \"relationType\": \"Debtor\"                             //роль клиента в договоре\n  }\n}\n```","x":8181,"y":3095,"width":1100,"height":992},
		{"id":"ea956ed38117175c","type":"text","text":"3. Пообщаться с аналитиками с рестры и каникул по итогу изысканий.","x":6641,"y":8215,"width":388,"height":80,"color":"5"},
		{"id":"3c9c65d0d857f2f4","type":"text","text":"4. Написать собственную постановку на создание поручения.","x":6641,"y":8575,"width":388,"height":80,"color":"5"},
		{"id":"d4eb7a2002e35828","type":"text","text":"\n| <font size = '42'>Создание поручения КАНИКУЛЫ!</font>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| **Алгоритм работы**<br><br>1. Сервис валидирует запрос<br><br>1.1. Если во входящих данных запроса **POST /holidays** не пришел **assigneeId** - взять значение из переменной окружения = **7794**, ID технического пользователя виртуального подразделения с **ext_id** = 999999999.<br>Во входящих обязательно передать атрибут **holidaysId**    <span style=\"color:red\"> (что за переменная подразумевается? Какая то техничка-затычка?)</span>.<br><br>1.2. Если **approvedDecision = true** - обязательно должны быть заполнены условно-обязательные параметры: <br>**startHolidaysDate**, **endHolidaysDate**, **durationPeriod**, **requestHolidaysDate**, **branch**, **timeZoneDiff, planningTerminationDate** <span style=\"color:red\"> но ведь может быть не пройдена не фатальная проверка и заявка всё равно будет создана заявка, этот же brabch мог бы наверное быть полезным</span><br><br>1.3. Если **approvedDecision = false** - обязательно должны быть заполнены условно-обязательные параметры: **rejectionCheckCode**<br><br>2. Выполнить проверку, есть ли в [БД](https://sfera.vtb.ru/documents/spaces/0/artifacts/61536#26173525) **holidays_monitoring** раннее созданные поручения (для предотвращения дублей)<br><br>2.1. Если по условиям ниже найдены записи - сервис возвращает ошибку **409 Conflict**<br><br>- **mdm_id** = applicant.extId <br><br>- **public_id** = contract.extId<br><br>- **holidays_type_id** = holidaysTypeId<br><br>- **approved_decision** = approvedDecision<br><br>- **status_name** = statusName <span style=\"color:red\"> то есть дубликат с другим набором статусов - не будет считаться дубликатом?</span><br><br>- **mlsrv_id** = null <span style=\"color:red\">это же статус заявки? А если уже было создано поручение по которому была создана заявка?</span><br><br><br>3. Сервис подготавливает транзакцию:<br><br>- сервис создает в таблице **app_create_request** запись заявки (там хранятся данные для заявки **app**)  <span style=\"color:red\"> откуда берётся инфа? блоки application, applicant и т.д.</span><br><br>- создает поручение на подключение / отключение каникул в [БД](https://sfera.vtb.ru/documents/spaces/0/artifacts/61536#26173525) **holidays_monitoring**  <br>- cвязывает его с записью из таблицы **app_create_request** \\|\\| holidays_id = id \\|\\| **holidays_monitoring**  <br>3.1. Если транзакция не выполнилась - вернуть ошибку и завершить алгоритм работы <span style=\"color:red\">если не произошел commit, происходит rollback?</span><br><br><br>4. Сервис отправляет запрос [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507) на сервис **1491_14.ipo-mlsrv-app**  <br>- входной параметр statusId \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507) = числовое значение enum **StatusNames** = statusName \\|\\| [POST /holidays](https://sfera.vtb.ru/documents/spaces/0/artifacts/61520#46255508)  <br>- входной параметр resultId \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507) = числовое значение enum **ResultNames** = resultName \\|\\| [POST /holidays](https://sfera.vtb.ru/documents/spaces/0/artifacts/61520#46255508)<br><br>5. Сервис **1491_14.ipo-mlsrv-app** возвращает ответ  <br>5.1. Если сервис **1491_14.ipo-mlsrv-app** вернул ответ **!= 200 OK** (retry 3 раза) - сервис **1491_14.ipo-mlsrv-holidays** возвращает ответ **200 OK** и завершает алгоритм работ. <span style=\"color:red\">почему 3 раза, и с какой задержкой?</span><br><br>В выходных параметрах возвращается значение созданного id и applicationId = null. <br>Заявка в **1491_14.ipo-mlsrv-app** будет создана в офлайне с помощью шедуллера на **mlsrv-holidays.**  <br>5.2. Если сервис **1491_14.ipo-mlsrv-app** вернул ответ **200 OK** - cервис **1491_14.ipo-mlsrv-holidays** сохраняет в [БД](https://sfera.vtb.ru/documents/spaces/0/artifacts/61536#26173525) **holidays_monitoring**  <br>- **mlsrv_id** = id \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507)  <br>- **app_status_id** = входной параметр **statusId** \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507)  <br>- **app_result_id** = входной параметр **resultId** \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507)  <br>5.2.1. Если **mlsrv_id** не удалось сохранить по причине недоступности [БД](https://sfera.vtb.ru/documents/spaces/0/artifacts/61536#26173525) - сервис возвращает ответ **200 OK** и завершает алгоритм работы (значения проставится в офлайне с помощью шедуллера на **mlsrv-holidays**)  <br>5.2.2. Если не удалось обработать ответ от **app** по причине недоступности **mlsrv-holidays** - сервис возвращает ответ **200 OK** и завершает алгоритм работы (значения проставится в офлайне с помощью шедуллера на **mlsrv-holidays**)  <br>5.2.3. Если значения удалось сохранить и удалось обработать ответ от **app** - сервис возвращает **200 OK** с выходными параметрами и завершает алгоритм работы |\n\n","x":8196,"y":4247,"width":1885,"height":1115},
		{"id":"daf25cd6cdf2c469","type":"text","text":"\n| <font size = '42'>Создание поручения РЕСТРА!</font>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| ## Алгоритм работы<br><br>1. Сервис валидирует запрос<br>    <br>    1. Если **isProductSecuritized** **= true** вызывает метод **GET/v2/department/target/{sapId}** и во входных параметрах передает **sapId** =  ****50646661.****  <span style=\"color:red\"> (что за GET/v2/department/target/{sapId}, на каком он адаптере? что за 50646661?)</span><br>Из выходных параметров сервис берет значение **id** (идентификатор подразделения) и вызывает метод **GET/v2/employee/techUser** и ищет тех. учетную запись. Полученное значение  выходного параметра **id** заполняет в ******assigneeId.******<br>        <br>    2. Если ******isProductSecuritized** **=** false****, тогда сервис продолжает работу согласно алгоритму****.**** <span style=\"color:red\"> почему если кредит не секьюритизирован не нужно проставлять id исполнителя?</span><br>        <br>          <br>        <br>    3. Если **rejectionCheckCode IS NULL** - обязательно должы быть заполнены условно-обязательные параметры: **startDate, endDate, requestClientDate, extension, deferment.**  <br>        <br>    4. Если **rejectionCheckCode IS NOT NULL** - в зависимости от проваленной проверки требуется выполнить логику, описанную в [Шаг №2 Проверки](https://sfera.inno.local/knowledge/pages?id=1357906), <br>возможны варианты: создать отказную заявку - если ошибка фатальная, продолжить заведение заявки - если нефатальная и т.д. <span style=\"color:red\">что происходит если не пройдено несколько проверок, а не одна?</span><br>        <br>2. Выполнить проверку, есть ли в [БД](https://sfera.inno.local/knowledge/pages?id=1354083) **restructuring_monitoring** ранее созданные поручения (для предотвращения дублей). Если по условиям ниже найдены записи - сервис возвращает ошибку **409 Conflict.**<br>    <br>    - **mdm_id** = applicant.extId <span style=\"color:red\">проверяете только дубль \"новой заявки\"?  app_reuslt_id=resultId, application_id = null</span><br>        <br>    - **public_id** = contract.extId<br>        <br>    - **scheme** = restructuringScheme  <br>        <br>    - **app_result_id** = resultId<br>        <br>    - **application_id**= null<br>        <br>3. Сервис подготавливает транзакцию:<br>    <br>    1. Сервис создаёт в таблице **restructuring_app_consistency_guarantor** запись заявки (в ней хранятся данные для заявки **арр**) <span style=\"color:red\">в json есть инфа которой нет во входящих параметрах метода, откуда она берется?(azsId, stageId, collaterals и т.д.)</span><br>        <br>    2. Создаёт поручение на проведение реструктуризации в  [БД](https://sfera.inno.local/knowledge/pages?id=1354083)  **restructuring_monitoring**<br>        <br>    3. Сервис записывает в  [БД](https://sfera.inno.local/knowledge/pages?id=1354083)  **restructuring_monitoring** <br>        <br>        1. app_result_id = входной параметр **resultId \\|\\| **POST /api/v1/restructuring****<br>            <br>        2. app_status_id = числовое значение **app_status_id** соответствющий **app_result_id**  в enum \"Соответствие статусов и результатов заявки\".<br>            <br>        3. rejection_check_code = rejectionCheckCode \\|\\| входной параметр **POST /api/v1/restructuring****,** если rejectionCheckCode != null<br>            <br>    4.  Если данные в БД не обновились - сервис возвращает !=200 ОК и прекращает алгоритм работы.<br>        <br>    5. Если данные в БД обновились - сервис продолжает работу согласно алгоритму.<br>        <br>    6. Связывает его с записью из таблицы **restructuring_app_consistency_guarantor** \\|\\| restructuring_id =  id \\|\\| **restructuring_monitoring.** Если транзакция не выполнилась - вернуть ошибку и завершить алгоритм работы.<br><span style=\"color:red\">здесь происходит commit/rollback транзакции?</span><br>        <br>4. Сервис отправляет запрос <br>    <br>    **POST /api/v1/restructuring** на сервис **1491_14.ipo-mlsrv-app** <span style=\"color:red\">на app нет такого метода</span><br>    <br>    1. Входной параметр statusId \\|\\| **POST/v2/application =** числовое значение app_status_id  \\|\\| [БД](https://sfera.inno.local/knowledge/pages?id=1354083)  **restructuring_monitoring**<br>        <br>    2. Входной параметр resultId \\|\\| **POST/v2/application =** числовое значение resultId \\|\\| **POST /api/v1/restructuring**<br>        <br>5. Сервис <br>    <br>    **1491_14.ipo-mlsrv-app** <br>    <br>    возвращает ответ<br>    <br>    1. Если сервис **1491_14.ipo-mlsrv-app** вернул **!= 200 ОК** - retry 3 раза, затем сервис **1491_14.ipo-mlsrv-**restructuring-storage**** возвращает **200 ОК** и завершает алгоритм работы. <span style=\"color:red\">storage - это шедулер? Почему 3 раза?</span><br>В выходных параметрах возвращается значение созданного id и applicationId = null. Заявка **1491_14.ipo-mlsrv-app** будет создана в оффлайне с помощью шедуллера на **mlsrv-restructuring**. <br>        <br>    2. Если сервис  **1491_14.ipo-mlsrv-app** вернул **200 ОК** - сервис  **1491_14.ipo-mlsrv-**restructuring-storage**** сохраняет в  [БД](https://sfera.inno.local/knowledge/pages?id=1354083)   **restructuring_monitoring**<br>        <br>        - **application_id**= **id** \\|\\| **POST/v2/application**  <br>            <br>        - **app_status_id =** входной параметр **statusId \\|\\| **POST/v2/application****  <br>            <br>        - **app_result_id =** входной параметр **resultId \\|\\| **POST/v2/application****  <br>            <br>            - Если **application_id** не удалось сохранить по причине недоступности БД - сервис **1491_14.ipo-mlsrv-**restructuring-storage**** возвращает **200 ОК** и завершает алгоритм работы (значение проставится в оффлайне с помощью шедуллера на **mlsrv-restructuring**).<br>                <br>            - Если не удалось обработать ответ от **app** по причине недоступности **mlsrv-restructuring** - сервис возвращает **200 ОК** и завершает алгоритм работы (значение проставится в оффлайне с помощью шедуллера на **mlsrv-restructuring**).<br>                <br>            - Если значения удалось сохранить и удалось обработать ответ от **арр** - сервис возвращает **200 ОК** с выходными параметрами и завершает алгоритм работы. |\n\n","x":8196,"y":5495,"width":2085,"height":1880},
		{"id":"79d867a0815b5bb8","type":"text","text":"\n| <font size = '42'>Создание поручения КАНИКУЛЫ!</font>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |\n| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| **Алгоритм работы**<br><br>1. Сервис валидирует запрос<br><br>1.1. Если во входящих данных запроса **POST /holidays** не пришел **assigneeId** - взять значение из переменной окружения = **7794**, ID технического пользователя виртуального подразделения с **ext_id** = 999999999.<br>Во входящих обязательно передать атрибут **holidaysId**    <span style=\"color:red\"> (что за переменная подразумевается? Какая то техничка-затычка?)</span>.<br><span style=\"color:green\">Жестко забитые на беке переменные, может быть один на все наши БО</span><br><br>1.2. Если **approvedDecision = true** - обязательно должны быть заполнены условно-обязательные параметры: <br>**startHolidaysDate**, **endHolidaysDate**, **durationPeriod**, **requestHolidaysDate**, **branch**, **timeZoneDiff, planningTerminationDate** <span style=\"color:red\"> но ведь может быть не пройдена не фатальная проверка и заявка всё равно будет создана заявка, этот же brabch мог бы наверное быть полезным</span><br><span style=\"color:green\">Заполняется потому что проверки пройдены, если нет, то только код непройденной проверки</span><br><br>1.3. Если **approvedDecision = false** - обязательно должны быть заполнены условно-обязательные параметры: **rejectionCheckCode**<span style=\"color:green\">Проверки выполняются последовательно, все, но в реджектЧекКод идет одна - самая приоритетная</span><br><br>2. Выполнить проверку, есть ли в [БД](https://sfera.vtb.ru/documents/spaces/0/artifacts/61536#26173525) **holidays_monitoring** раннее созданные поручения (для предотвращения дублей)<br><br>2.1. Если по условиям ниже найдены записи - сервис возвращает ошибку **409 Conflict**<br><br>- **mdm_id** = applicant.extId <br><br>- **public_id** = contract.extId<br><br>- **holidays_type_id** = holidaysTypeId<br><br>- **approved_decision** = approvedDecision<br><br>- **status_name** = statusName <span style=\"color:red\"> то есть дубликат с другим набором статусов - не будет считаться дубликатом?</span><br><br>- **mlsrv_id** = null <span style=\"color:red\">это же статус заявки? А если уже было создано поручение по которому была создана заявка?</span><br><span style=\"color:green\">На всякий случай если что то отвалилось, если post/holidays сработал, но в app заявка не создалась. Подстраховка в общем</span><br><br>3. Сервис подготавливает транзакцию:<br><br>- сервис создает в таблице **app_create_request** запись заявки (там хранятся данные для заявки **app**)  <span style=\"color:red\"> откуда берётся инфа? блоки application, applicant и т.д.</span><br><span style=\"color:green\">На создание заявки каждая команда при необходимости добавляет свои атрибуты</span><br><br>- создает поручение на подключение / отключение каникул в [БД](https://sfera.vtb.ru/documents/spaces/0/artifacts/61536#26173525) **holidays_monitoring**  <br>- cвязывает его с записью из таблицы **app_create_request** \\|\\| holidays_id = id \\|\\| **holidays_monitoring**  <br>3.1. Если транзакция не выполнилась - вернуть ошибку и завершить алгоритм работы <span style=\"color:red\">если не произошел commit, происходит rollback?</span><br><span style=\"color:green\">Перед созданием заявки нужно засунуть криэйт реквест, поэтому нужно создать записи в двух таблицах, если не что то из двух не записалась - роллбек</span><br><br>4. Сервис отправляет запрос [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507) на сервис **1491_14.ipo-mlsrv-app**  <br>- входной параметр statusId \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507) = числовое значение enum **StatusNames** = statusName \\|\\| [POST /holidays](https://sfera.vtb.ru/documents/spaces/0/artifacts/61520#46255508)  <br>- входной параметр resultId \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507) = числовое значение enum **ResultNames** = resultName \\|\\| [POST /holidays](https://sfera.vtb.ru/documents/spaces/0/artifacts/61520#46255508)<br><br>5. Сервис **1491_14.ipo-mlsrv-app** возвращает ответ  <br>5.1. Если сервис **1491_14.ipo-mlsrv-app** вернул ответ **!= 200 OK** (retry 3 раза) - сервис **1491_14.ipo-mlsrv-holidays** возвращает ответ **200 OK** и завершает алгоритм работ. <span style=\"color:red\">почему 3 раза, и с какой задержкой?</span><br><span style=\"color:green\">Просто договоренность такая ещё три попытки и если нет, то шедулер потом сам</span><br><br>В выходных параметрах возвращается значение созданного id и applicationId = null. <br>Заявка в **1491_14.ipo-mlsrv-app** будет создана в офлайне с помощью шедуллера на **mlsrv-holidays.**  <br>5.2. Если сервис **1491_14.ipo-mlsrv-app** вернул ответ **200 OK** - cервис **1491_14.ipo-mlsrv-holidays** сохраняет в [БД](https://sfera.vtb.ru/documents/spaces/0/artifacts/61536#26173525) **holidays_monitoring**  <br>- **mlsrv_id** = id \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507)  <br>- **app_status_id** = входной параметр **statusId** \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507)  <br>- **app_result_id** = входной параметр **resultId** \\|\\| [POST /v2/application](https://sfera.vtb.ru/documents/spaces/0/artifacts/21172#6979507)  <br>5.2.1. Если **mlsrv_id** не удалось сохранить по причине недоступности [БД](https://sfera.vtb.ru/documents/spaces/0/artifacts/61536#26173525) - сервис возвращает ответ **200 OK** и завершает алгоритм работы (значения проставится в офлайне с помощью шедуллера на **mlsrv-holidays**)  <br>5.2.2. Если не удалось обработать ответ от **app** по причине недоступности **mlsrv-holidays** - сервис возвращает ответ **200 OK** и завершает алгоритм работы (значения проставится в офлайне с помощью шедуллера на **mlsrv-holidays**)  <br>5.2.3. Если значения удалось сохранить и удалось обработать ответ от **app** - сервис возвращает **200 OK** с выходными параметрами и завершает алгоритм работы |\n\n","x":8196,"y":7460,"width":1885,"height":1115},
		{"id":"e26d97e117407c1b","type":"text","text":"\n\n<font size = '56'>Поручение</font>","x":4641,"y":6975,"width":420,"height":180,"color":"4"},
		{"id":"7147a5ceaab055a5","type":"text","text":"\n\n<font size = '42'>Создание поручения!</font>","x":5866,"y":3866,"width":561,"height":140,"color":"6"},
		{"id":"705fba97e83a4edb","type":"text","text":"1. Добыть и проанализировать тела запроса на создание поручения на рестре и каникулах. (прям поатрибутно, чтобы небыло белых пятен)\n   В сваггерах, ТкР-ах, по запросу, как угодно.","x":6626,"y":3607,"width":388,"height":201,"color":"5"},
		{"id":"1b4acfd4dc5a32fa","type":"text","text":"2. Прочитать постановки на создание поручения на рестре и каникулах, пометить вопросами всё что непонятно.","x":6626,"y":4247,"width":388,"height":132,"color":"5"},
		{"id":"49f85e80ac7cad14","type":"text","text":"<font size = '42'>Сравнение \"бизнес\" части запросов на создание поручения</font>\n\n| поля Каникул                                | поля Реструктуризации                          | поля Семейной ипотеки                                  |\n| ------------------------------------------- | ---------------------------------------------- | ------------------------------------------------------ |\n| Идентификатор типа каникул                  | Схема реструктуризации                         | Публичный id продукта в 1503                           |\n| Код основания для предоставления каникул    | Дата начала реструктуризации                   | Идентификатор экземпляра продукта в 2199               |\n| Идентификатор заявителя по 377 каникулам    | Дата окончания реструктуризации                | Дата обращения клиента                                 |\n| Дата начала каникул                         | Дата обращения клиента                         | Дата фактического проведения снижения ставки           |\n| Дата окончания каникул                      | Кол-во месяцев отсрочки уплаты основного долга | Дата начала действия сниженной ставки                  |\n| Период подключения каникул                  | Кол-во месяцев увеличения срока кредита        | Код филиала банка                                      |\n| Дата обращения клиента                      | Публичный id продукта в 1503                   | Часовой пояс клиента                                   |\n| Публичный id продукта в 1503                | Идентификатор экземпляра продукта в 2199       | Процентная ставка                                      |\n| Идентификатор экземпляра продукта в 2199    | Код непройденной проверки                      | Признак обогащения кредитного договора (НА ИЗМЕНЕНИЕ!) |\n| Код филиала банка                           | Признак секьюритизированного кредита           | Код непройденной проверки                              |\n| Таймзона                                    | Идентификатор результата заявки                | Результат заявки                                       |\n| Признак положительного решения по проверкам |                                                |                                                        |\n| Статус поручения                            |                                                |                                                        |\n| Результат заявки                            |                                                |                                                        |\n| Код непройденной проверки                   |                                                |                                                        |\n| Планируемая дата отключения каникул         |                                                |                                                        |\n| Флаг маркетингового предложения             |                                                |                                                        |\n\n","x":11401,"y":2455,"width":1840,"height":876},
		{"id":"089dabae8f413bd2","type":"text","text":"Сергей прислал инструкцию по заполнению справочников, осталось выяснить где брать новую БО и можно работать.\n> Так же нужно переслать инструкцию Денису и переговорить с Никитой Барышовым о помощи по заполнению.","x":16520,"y":9075,"width":548,"height":175},
		{"id":"d0aa2db25ed87b90","type":"text","text":"Куда будем назначать заявку при исключительной ситуации?","x":16960,"y":9320,"width":287,"height":103,"color":"1"},
		{"id":"6140070be1e2d1b3","type":"text","text":"Новая БО берется по согласованию с Бахмат и Мажуль","x":16620,"y":9320,"width":287,"height":103,"color":"1"},
		{"id":"d9dccaca7314da76","type":"text","text":"\n| <font size = '42'>Справочник \"application_type\" мс app (бизнес операции) </font> |\n| -------------------------------------------------------------------------------- |\n\n| name                              | category_type_id | operation_duration | is_deleted | code   | is_comission | enable_for_codebtor | enable_for_guarantor | enable_for_client | enable_state_model | client_name                        | enable_for_package_create |\n| --------------------------------- | ---------------- | ------------------ | ---------- | ------ | ------------ | ------------------- | -------------------- | ----------------- | ------------------ | ---------------------------------- | ------------------------- |\n| Семейная ипотека. Снижение ставки | 1                | 30?                | false      | BO_253 | false        | true                | false                | true              | true               | Снижение ставки для семей с детьми | false                     |\n\n| <font size = '42'>Справочник \"application_type_role\" мс app (роли пользователей) </font> |\n| ---------------------------------------------------------------------------------------- |\n\n| application_type_code | role_ext_code     | role_action |\n| --------------------- | ----------------- | ----------- |\n| BO_253                | p0-ipo-mlsrv-ba   |             |\n|                       | p0-ipo-mlsrv-rdsp |             |\n|                       | p0-ipo-mlsrv-idsp |             |\n|                       | p0-ipo-mlsrv-mc   |             |\n|                       | p0-ipo-mlsrv-са   |             |\n|                       | p0-ipo-mlsrv-dsp  |             |\n|                       | p0-ipo-mlsrv-drok | просмотр    |\n|                       | p0-ipo-mlsrv-dko  | просмотр    |\nДоступные значения ролей: \n- p0-ipo-mlsrv-ba: бизнес-администратор\n- p0-ipo-mlsrv-rdsp: руководитель ДСП\n- p0-ipo-mlsrv-idsp: исполнитель ДСП\n- p0-ipo-mlsrv-mc: сотрудник МС\n- p0-ipo-mlsrv-са: сотрудник центра андеррайтинга Управления экспертизы\n- p0-ipo-mlsrv-expert: эксперт по титулу\n- p0-ipo-mlsrv-dsp: сотрудник ДСП\n- p0-ipo-mlsrv-drok: сотрудник ДРОК\n- p0-ipo-mlsrv-dko: сотрудник КЦ/ДКО Масс\n- p0-ipo-mlsrv-dkopriv: сотрудник КЦ/ДКО Привилегия\n- p0-ipo-mlsrv-dkoprime: сотрудник КЦ/ДКО Прайм\n- p0-ipo-mlsrv-drv: сотрудник ДРВ\n- p0-ipo-mlsrv-drvkc: сотрудник ДРВ КЦ","x":17600,"y":8705,"width":1960,"height":1115},
		{"id":"ee6797759265340c","type":"text","text":"БО создана:\nBO_253 \"Семейная ипотека. Снижение ставки\"","x":16553,"y":9520,"width":421,"height":106,"color":"4"},
		{"id":"71f2a00571026b2a","type":"text","text":"<font size = '42'>GET/client/{mdmid} - ОТВЕТ</font>\n```json\n{\n  \"partyUId\": \"string\", // Глобальный идентификатор записи Customer HUB\n  \"firstName\": \"string\", // Имя\n  \"lastName\": \"string\", // Фамилия\n  \"middleName\": \"string\", //Отчество\n  \"fullNameDative\": \"string\", // ФИО полностью в дательном падеже\n  \"fullNameGenitive\": \"string\", // ФИО полностью в родительном падеже\n  \"birthDateTime\": \"string\", //Дата рождения\n  \"birthPlace\": \"string\",    // Место рождения\n  \"tin\": \"string\",           // ИНН\n  \"deathDateTime\": \"string\", // дата смерти\n  \"genderCode\": \"string\", // Код пола\n  \"nationalityCountryCode\": \"string\", // Код гражданства\n  \"maritalStatusCode\": 0, // Код семейного положения\n  \"education\": [\n    {\n      \"educationDegree\": \"string\"    // Код уровня образования\n    }\n  ],\n  \"address\": [\n    {\n      \"typeCode\": \"string\",          // Код типа адреса\n      \"notFormAddrName\": \"string\",   // Ненормализованный адрес\n      \"fullAddress\": \"string\"        // Полный неочищенный адрес (Адрес \"как есть\" не прошедший процесс очистки средствами Фактор)\n    }\n  ],\n  \"contactPhoneCommunication\": [\n    {\n      \"completeNumber\": \"string\",   // Полный номер телефона\n      \"phoneType\": \"string\",         // Код типа телефона\n      \"endDate\": \"string\",           // хз что такое\n      \"phoneType\": \"string\"          // тип видимо домашний/мобильный\n    }\n  ],\n  \"blackList\": [                    // Информация о сегменте \"Черные списки\"\n    {\n      \"startDate\": \"string\",        // Дата начала действия\n      \"endDate\": \"string\",          // Дата окончания действия\n      \"blackListValue\": true,       // Значение черного списка\n      \"blackListName\": \"string\"     // Тип черного списка\n    }\n  ],\n  \"personDocumentIdentity\": [\n    {\n      \"endDate\": \"string\",               //Дата завершения действия\n      \"endOfRightToStay\": \"string\",      // Дата окончения срока действия пребывания (проживания) в РФ\n      \"expirationDate\": \"string\",        // Дата окончания действия\n      \"issueCode\": \"string\",             // Код подразделения\n      \"issueCountryCode\": \"string\",      // Страна выдачи\n      \"issueDate\": \"string\",             // Дата выдачи\n      \"issueName\": \"string\",             // Кем выдан\n      \"loginExternalSystem\": \"string\",   // Наименование учётной записи пользователя, производившей изменения в системе источике\n      \"nameExternalSystem\": \"string\",    // Код наиманования системы источника в которой производиись изменения\n      \"number\": \"string\",                // Номер\n      \"series\": \"string\",                // Серия\n      \"startDate\": \"string\",             // Дата начала действия\n      \"startOfRightToStay\": \"string\",    // Дата начала срока действия пребывания (проживания) в РФ\n      \"trustFlag\": \"string\",             // Признак - доверительная система\n      \"typeCode\": \"string\",              // Код типа документа\n      \"updateDate\": \"string\"             // Дата изменения в системе источнике\n    }\n  ],\n  \"segment\": [                           // Инфо о сегменте клиента (масс, премиум и т.д.)\n    {\n      \"type\": \"string\",                  // Тип сегмента\n      \"value\": \"string\",                 // Значение сегмента\n      \"status\": 0                        // Код статуса сегмента\n    }\n  ]\n}","x":7280,"y":-4160,"width":1100,"height":1612},
		{"id":"8a54d764b12f5655","type":"text","text":"Существуют вот такие интересные штуки:\n- 1719 Проверка адреса (https://sfera.inno.local/knowledge/pages?id=1379870)\n- Реестр справочников (https://sfera.inno.local/knowledge/pages?id=1368223)\n- ссылка на фронт (https://ipo-mlsrv-gui-mlsrv4.ipo-sk1.apps.innodev.local/catalogs) ST","x":-3840,"y":1800,"width":1821,"height":157,"color":"4"},
		{"id":"6a90b038a923069b","type":"text","text":"Интеграция с карточкой 1442 Карточка ФЛ на обновление клиентских данных. \n\n- Внесение информации по детям\n- Внесение информации по СНИЛС (заёмщика, созаёмщика, поручителя, залогодателя)\n\nИ и другое ждёт проработки по интеграции с 1442 на обновление данных\nЕсть ряд артефактов с которыми необходимо для этого ознакомиться:\n\n>Инструкция по подключению к 1442 - https://sfera.inno.local/knowledge/pages?id=832697\n  Алгоритм подключения на контурах - https://sfera.inno.local/knowledge/pages?id=832845\n  Что необходимо отразить в артефактах - https://sfera.inno.local/knowledge/pages?id=832993\n  Типовые кейсы 1442 для решений смежных систем - https://sfera.inno.local/knowledge/pages?id=833067\n  Коллекция для Postman - https://sfera.inno.local/knowledge/pages?id=832771\n\nНеобходимо ознакомиться и принять решение относительно дальнейшей судьбы метода обновления поручения (будет он у себя внутри логики иметь эти интеграции, или под них разработаем отдельный метод/методы)\n\n\nЕсть пример постановки на изменение персональных данных от первой команды:\nОни изменяли признак СВО на карточке фл:\nhttps://sfera.inno.local/knowledge/pages?id=1330703\n\n\n<font size = '42'>Это будет весело!</font>","x":8196,"y":12320,"width":1045,"height":780,"color":"5"},
		{"id":"1cb60c9615a8fc0c","type":"text","text":"\n\n<font size = '42'>Интеграция с карточкой на обновление данных</font>","x":5866,"y":12548,"width":561,"height":292,"color":"6"},
		{"id":"91ef07d6cefd7826","type":"text","text":"\nДля того чтобы внести недостающие СНИЛСы, нужно сперва подтянуть имеющиеся и выяснить каких не хватает.\n- СНИЛС заёмщика\n- СНИЛС созаёмщика\n- СНИЛС поручителя\n- СНИЛС залогодателя\nПоэтому вероятно нужны их mdmId\n<font size = '42'>Как выяснить все нужные mdmId?</font>\n<font size = '42'>Как получить именно снилсы?</font>\n","x":9340,"y":12140,"width":1040,"height":380,"color":"1"},
		{"id":"fc5177b06fbbd392","type":"text","text":"<font size = '42'>Как выяснить все нужные mdmId?</font>\nНа ответе от 1503/details есть массив participants, вероятно может содержать инфу о созаёмщике и поручителе.\nНаписал Беленковой по этому вопросу.","x":10460,"y":12140,"width":840,"height":190},
		{"id":"197f21da6cdc52ce","type":"text","text":"<font size = '42'>Как получить именно СНИЛСы?</font>\nТИС Карточки тупит, поддержка не может с этим помочь, возможно придётся пытать людей по почте","x":10460,"y":12480,"width":840,"height":190},
		{"id":"8fe29761e8ff5710","type":"text","text":"mdmId залогодателя - это конечно вопрос\n1503 о нём ничего не знает","x":11420,"y":12235,"width":250,"height":130,"color":"1"},
		{"id":"1061da1faa190df7","type":"text","text":"\n\n<font size = '42'>Интеграция с ОПС 3303, получение данных о залоге</font>","x":5866,"y":14080,"width":561,"height":292,"color":"6"},
		{"id":"952bbea35c8ea70f","type":"text","text":"\n\n<font size = '42'>Блок СНИЛС</font>","x":3820,"y":13880,"width":379,"height":109,"color":"4"},
		{"id":"563aa777a6893ef2","type":"text","text":"\n\n<font size = '42'>Блок Информация о недвижимости</font>","x":3820,"y":13285,"width":500,"height":255,"color":"4"},
		{"id":"fa097bd3e9b80013","type":"text","text":"\n\n<font size = '42'>Блок Информация о детях</font>","x":3820,"y":12720,"width":379,"height":240,"color":"4"},
		{"id":"e7636b7fe0686528","type":"file","file":"Files/Pasted image 20250124120547.png","x":1920,"y":12548,"width":1677,"height":1582},
		{"id":"62a1a7b49b214dee","type":"text","text":"\n\n<font size = '42'>Как это всё вообще вызывать?</font>\nВарианты:\n1. Вызовы методов карточки и залогов существуют отдельно\n   Забил детей, забил снилсы, забил все нужные параметры - нажал \"Продолжить\"\n   Первыми вызываются методы интеграций, потом PUT/поручение.\n   Если не отработало что то из интеграций - не вызывается и PUT/поручение - показываем ошибку на фронте\n2. Все интеграции находятся внутри логики PUT/поручение\n   Передаём все параметры внутрь метода PUT/поручение и внутри его логики прописываем нужные интеграции.\n   Соответственно если что то не отработало - не двигаем заявку дальше по статусам - отвечаем 502 и всё","x":1920,"y":14200,"width":1677,"height":440},
		{"id":"da25afbe532a3e7c","type":"text","text":"Интеграция с ОПС 3303 для получения данных о залоге (предмете ипотеки)\n\nНа экранной форме нашей заявки мы должны видеть следующую информацию о недвижимости:\n\n- Наименование залоговой ценности\n- Адрес\n- Площадь\n- Компания-продавец объекта\n- ИНН Компании-продавца\n- Дата регистрации ипотеки\n- Кадастровый номер\n- Код залога\n- Цена продавца\n\nОписание метода на 3303:\nhttps://sfera.inno.local/knowledge/pages?id=1428809\n\nИнтеграция на микросервисе-адаптере нашей системы:\nhttps://sfera.inno.local/knowledge/pages?id=1434668\n\nМаппинг полей экранной формы для залогов:\nhttps://sfera.inno.local/knowledge/pages?id=1464221\n\n<font size = '42'>Это будет весело!</font>","x":8200,"y":13840,"width":1045,"height":780,"color":"5"},
		{"id":"921cbd1da6de63a7","type":"text","text":"В процессах ВТБ Залогодателем будет выступать всегда Заемщик/Созаемщик/Поручитель, могут быть конечно кейсы (как нестандарты) когда залогодателем будет стороннее лицо не являющееся Заемщиком/Созаемщиком/Поручителем. Если говорить про нашу БО Семейку, то всегда Залогодатель = Заемщик/Созаемщик/Поручитель","x":11720,"y":12191,"width":467,"height":219,"color":"4"},
		{"id":"3d17c47ae3e57f40","type":"text","text":"Массив действительно содержит инфу о mdmId заёмщика, созаёмщика и поручителя в случае их наличия","x":11570,"y":11940,"width":300,"height":182,"color":"4"},
		{"id":"cb33d46995950677","type":"text","text":"typeCode == 300 в массиве документов клиента соответствует СНИЛС. На входе есть валидации по маске и контрольной сумме документа\n\n+\nДля передачи в карточку обязательными параметрами будут являться Номер, Тип, Признак доверительной системы","x":11420,"y":12440,"width":300,"height":360,"color":"4"},
		{"id":"722337f5ec854b9a","type":"text","text":"<font size = '42'>Обновление персональных данных</font>\n\nPOST/person/update\n\nurl: \"https://cspc.corp.dev.vtb/api/rb/frsvsc/cspc/v1\" - DSO\nurl: \"https://cspc.ik5-cspc01-cspc-if01.test.vtb.ru/api/rb/frsvsc/cspc/v1\" - IFT","x":9331,"y":12756,"width":1049,"height":344},
		{"id":"83bb47f9e09e16b7","type":"text","text":"<font size = '42'>Передача информации о детях</font>\n\nНа уровне фронта мы отказались от хранения/передачи даты присвоения инвалидности, но флаг инвалидности нам по прежнему нужен.\n\nТак вот блеать!\nВ карточку ФЛ мы отправляем всё кроме флага инвалидности (дата рождения, фио) и соответственно не сможем при запросе обратно получить информацию о том, кто именно из детей инвалид!\nКак это решить? Может быть\n- Хранить у себя на уровне БД информацию о ребенке-инвалиде (хешированное/шифрованное значение), а потом при получении детей от карточки можно было бы сравнивать хеши и при совпадении понимать какой из детей инвалид?","x":11027,"y":12911,"width":927,"height":569,"color":"1"},
		{"id":"716aee61a4776dd7","type":"text","text":"Так же нужна доработка на методе адаптера GET/client/{mdmId} нужно добавить в DTO массив родственников","x":12040,"y":12911,"width":380,"height":124},
		{"id":"b1fa07c8131f91fb","type":"text","text":"Инфу необходимо сперва найти в теле ответа метода","x":9507,"y":13560,"width":329,"height":60,"color":"1"},
		{"id":"94b1a4356d153e45","type":"text","text":"\n| Атрибут                         | Пример             | Маппинг                                                                                                                                                                                                                      | Примечание                                                                                                                                                                                          |\n| ------------------------------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Наименование залоговой ценности | Квартира           | getCollateralSubject.collaterals.assessment.assetSpecification.attributes(nameOfProperty).value                                                                                                                              | Справочное значение нужно найти                                                                                                                                                                     |\n| Адрес                           | Никольская, 2, 190 | getCollateralSubject.collaterals.assessment.assetSpecification<br><br>Адрес - attributeName =\"ADDR_STR\", value = значение                                                                                                    |                                                                                                                                                                                                     |\n| Площадь, м2                     | 54,6               | getCollateralSubject.collaterals.assessment.assetSpecification<br><br>Площадь есть 2х видов: общая attributeName = \"TOTAL_AREA\" и attributeName = \"LIVING_SPACE\"  жилая, лежат обе в разных объектах<br><br>value = значение |                                                                                                                                                                                                     |\n| Компания-продавец объекта       | ООО ПИК            | getCollateralSubject.collaterals.assessment.assetSpecification<br><br>attributeName = \"NAME_OF_DEVELOPER\", value = значение                                                                                                  |                                                                                                                                                                                                     |\n| ИНН компании-продавца           | 000000000          | getCollateralSubject.collaterals.assessment.assetSpecification<br><br>attributeName = \"INN_OF_DEVELOPER\",  value = значение                                                                                                  |                                                                                                                                                                                                     |\n| Дата регистрации ипотеки        | 31.12.2021         | getCollateralSubject.encumbrances.effectiveDate                                                                                                                                                                              | Атрибут в работе, планируемый путь                                                                                                                                                                  |\n| Кадастровый номер               | 623/0000-0001757   | getCollateralSubject.collaterals.pledgeObjectAsset.attributes.value<br><br>name = CADASTRAL_NUMBER                                                                                                                           | VIN для авто, кадастровый номер для квартиры                                                                                                                                                        |\n| Код залога                      | 00000              | getCollateralSubject.collaterals.rbCollateralType<br><br>или<br><br>getCollateralSubject.collaterals.pledgeObjectAsset.typeGuid                                                                                              |                                                                                                                                                                                                     |\n| Цена продавца                   | 11 000 000, 00     | getCollateralSubject.collaterals.valuation.collateralAssetValuations.valuationRuble                                                                                                                                          | Цены продавца нет, есть цена приобретения = тоже самое, что и в п.  Наименование залоговой стоимости, т.к. там справочные значения, оттуда можно вынуть любую стоимость, которую положили на выдаче |\n","x":9507,"y":13620,"width":1520,"height":880},
		{"id":"de8384b9e2609515","type":"text","text":"\nЭкземпляр продукта обеспечения - может иметь два предмета залога (например дом и земельный участок на котором он стоит)\nПредмет залога - массив из нескольких сущностей: объект, экспертиза, право владения и ещё несколько\nОбъект залога - это характеристики конкретного объекта недвижимости (адрес, площадь, кадастровый номер и т.д.)\n","x":9507,"y":14620,"width":1023,"height":126,"color":"4"},
		{"id":"92addae7cfde18d4","type":"file","file":"MainBase/дейли.md","x":-480,"y":740,"width":940,"height":1740},
		{"id":"cface8fda6f54f9d","type":"text","text":"Постановка написана 30.01.2025","x":12040,"y":13035,"width":380,"height":60,"color":"4"},
		{"id":"35594544cc6a5b8f","type":"text","text":"Ссылки на страницы по обработке ошибок от первой команды (Денис Багдасаров)\nhttps://sfera.inno.local/knowledge/pages?id=1430274\nhttps://sfera.inno.local/knowledge/pages?id=1371529\nhttps://www.figma.com/design/KiLzp4eimulenCeTolqzlp/Конструктор-микросервисов-Ω-omega?node-id=123810-300971&p=f&t=z7bzLZSVhNCXdeqc-0","x":-3840,"y":1600,"width":1240,"height":180,"color":"4"},
		{"id":"59e6daa8e4a41ce1","type":"text","text":"С \"Наименование залоговой ценности\" пока не всё ясно. Туда передаётся справочное значение, которое нужно отыскать и смаппить.\nНужны значения соответствующие квартире, частному дому и земельному участку под частным домом.\nУльяна направила меня в справочник ОС РС 071, он вроде как нашелся в базе залогов, но пока не понятно как с его помощью определить то что мне нужно.\n\n\nКороче, не то, Оля Решетова подсказала момент с тем что это значения справочника real_estate_kind из их БД и дала таблицу маппинга https://sfera.inno.local/knowledge/pages?id=1464221\n\nТак же есть классная страница на сфера.втб с описанием attributeName и value\nhttps://sfera.vtb.ru/documents/spaces/0/artifacts/57177/publications/286006","x":11130,"y":13620,"width":721,"height":440,"color":"1"},
		{"id":"4e8a1aa49652987f","type":"text","text":"\n| <font size = '42'>Планировщик обновления заявки</font> |\n| ------------------------------------------------------ |\n\n- [ ] Аналитика\n- [ ] Разработка\nВ принципе вопросов нет, всё понятно.","x":6147,"y":22760,"width":1045,"height":240,"color":"5"},
		{"id":"8b0d3eb4cfe09b79","type":"text","text":"\n| <font size = '42'>Планировщик Дедупликации/Дедедупликации mdmId</font> |\n| ---------------------------------------------------------------------- |\n\n- [ ] Выяснить у каникул и рестры инфу по этому сценарию, как часто это происходит? Какие то нюансы...","x":6147,"y":23080,"width":1045,"height":280,"color":"5"},
		{"id":"5e551cddbcd49c41","type":"text","text":"Дурацкая ситуация с тем что мы разрабатываем свои шедулеры, а фоном идёт обсуждение создания общих шедулеров!","x":5107,"y":23470,"width":696,"height":420},
		{"id":"94d410566050ae35","type":"text","text":"\n\n<font size = '56'>Шедулеры</font>","x":4307,"y":23680,"width":340,"height":120,"color":"4"},
		{"id":"f58f3fc75da0494d","type":"text","text":"Привет) \nКратенько: \nТаня почти правильно сказала, есть случаи, когда узнают, что две карточки, относятся к одной и их дедублицируют в одну. И нужно менять их.\nПочитать их документацию можно: wiki.corp.dev/pages/viewpage.action?pageId=250644937\nИли\nТИС: sfera.vtb.ru/documents/spaces/0/artifacts/50669/publications/78296 можно найти по ключевым словам: дедупликация /дедубликация\n\nНа счет количества.. несколько раз отправляли им вопрос в чат (чтобы спросить статистически) - никогда не отвечали конкретно, поэтому не подскажу) ориентировать только на РПС\n\nДа, груммили этот момент. Хотели сделать а-ля «общего сервиса» который будет дедублицировпть, но решили каждый сам может это сделать\nЕдинственное, вы не подключаетесь напрямую к ним, а в адаптере есть НАША кафка iap-deduplication\nДелал постановку, можно почитать о нем тут в инно: 1440244\n1438707","x":7367,"y":23000,"width":668,"height":494},
		{"id":"6b144b3b7de110c8","type":"text","text":" <font size = '42'>ОТМЕНЁН! </font>","x":7367,"y":22820,"width":305,"height":120,"color":"1"},
		{"id":"7813bbbb6606ac50","type":"text","text":" <font size = '42'>Вопрос решен </font>","x":7837,"y":20470,"width":240,"height":220,"color":"4"},
		{"id":"ef7612e33922e40d","type":"text","text":"Вопрос решен.\n\nИспользуем kind == \"Цессия\" && subProductType == значениям из списка Антона, проверка не пройдена!","x":7267,"y":20495,"width":500,"height":170,"color":"5"},
		{"id":"d9734bca2b6dbd4b","type":"text","text":" <font size = '42'>Вопрос решен </font>","x":7267,"y":20930,"width":240,"height":220,"color":"4"},
		{"id":"c7d82bf5fa586533","type":"text","text":" <font size = '42'>Вопрос решен </font>","x":8007,"y":21350,"width":240,"height":220,"color":"4"},
		{"id":"1140a3e669507e5f","type":"text","text":"для проверки на секьюритизацию используем \"РО\" как и ресра с каникулами","x":7267,"y":21540,"width":548,"height":60,"color":"4"},
		{"id":"21e4314e76cec049","type":"text","text":"Пока не понятно где хранить информацию о детях вопрос висит","x":7267,"y":21735,"width":600,"height":130,"color":"5"},
		{"id":"31ada112fbf53e0f","type":"file","file":"Files/Pasted image 20250114145115.png","x":7239,"y":21390,"width":657,"height":140},
		{"id":"3148dbc2025f09ce","type":"text","text":" <font size = '42'>ОТМЕНЁН! </font>","x":7367,"y":22540,"width":305,"height":120,"color":"1"},
		{"id":"5c656bc0387b6798","type":"text","text":"\n| <font size = '42'>isExternalBankCession </font> |\n| ----------------------------------------------- |\nНаличие признака «Цессия из стороннего банка»\n\nЧто то из нижеперечисленного подходит?\n\n    \"isMigrated\": null,                                 //признак того что продукт мигрировал\n    \"isSoldOut\": null,                                  //признак полной продажи договора\n    \"kind\": \"kind!!!!!!!!!!!!\",                         //вид кредита (Кредит, РО, Цессия)\n\n\n","x":6147,"y":20400,"width":1045,"height":360,"color":"5"},
		{"id":"75a4beaed5ff4338","type":"text","text":"\n| <font size = '42'>isOverdueDebt </font> |\n| --------------------------------------- |\nОтсутствуют действующие (текущие) просроченные обязательства по погашению кредита.\n\nВот такой атрибут подойдёт?\n\n \"hasOverdue\": false,                                //признак просрочки платежа\n\n\nИли вот эти должны быть null?\n\"pastDue\": null,                                     //основная сумма просроченной задолжности\n\"pastDueAmount\": null,                               //общая сумма просроченной задолженности","x":6147,"y":20840,"width":1045,"height":400,"color":"5"},
		{"id":"f8c29f11c766e3e3","type":"text","text":"\n| <font size = '42'>isMortgageSecuritized </font> |\n| ----------------------------------------------- |\nПроверка на секьютиризацию ипотечного кредита\n\n\nЧто за kind??? Что за PO? (У рестры эта проверка не проходит, если kind == PO, что это блеать?!)\n\n\"kind\": \"kind!!!!!!!!!!!!\",                         //вид кредита (Кредит, РО, Цессия)","x":6147,"y":21320,"width":1045,"height":280,"color":"5"},
		{"id":"0997f84c16f0710e","type":"text","text":"\n| <font size = '42'>isChildAgeValid </font> |\n| ----------------------------------------- |\nПроверка возраста детей на момент проведения повторных проверок\n\nПри проведении повторных проверок перепроверяется факт того, что дети подходят под программу по возрасту.\nПо последней версии БТ:\n- Один ребенок не достигший возраста 7 лет\n- Один ребенок с категорией \"ребёнок-инвалид\" не достигший возраста 18 лет\n- Двое и более детей не достигших 18 лет\n","x":6147,"y":21640,"width":1045,"height":320,"color":"5"},
		{"id":"7122d7ce5a209951","type":"text","text":" <font size = '42'>Вопросы по шедулерам </font>","x":6147,"y":22380,"width":1045,"height":80,"color":"1"},
		{"id":"94ba05c91acd5c9e","type":"text","text":"\n| <font size = '42'>Планировщик создания заявки</font> |\n| ---------------------------------------------------- |\n\n- [ ] Аналитика\n- [ ] Разработка\nВ принципе вопросов нет, всё понятно.","x":6147,"y":22480,"width":1045,"height":240,"color":"5"},
		{"id":"f4a7c507e6f6d976","type":"text","text":"\n| <font size = '42'>isProductAvailable </font> |\n| -------------------------------------------- |\nПроверка кредитной программы\n\nКредит должен входить в список следующих кредитных программ:\n- ИКП \"0402.01 Ипотека. Готовое жильё\", в том числе в рамках клиентского предложения \"Победа над формальностями\"(ПНФ)\n- ИКП \"0402.05 Ипотека. Строящееся жильё\", в том числе в рамках ПНФ\n- ИКП \"0402.02 Ипотека. Готовое жильё для работников Группы ВТБ\", в том числе в рамках ПНФ\n- ИКП \"0402.06 Ипотека. Строящееся жильё для работников Группы ВТБ\", в том числе в рамках ПНФ\n- ИКП \"0402.07 Ипотека. Рефинансирование\n- Ипотека с господдержкой для семей с детьми, в том числе в рамках ПНФ\n\n","x":6147,"y":19401,"width":1045,"height":439,"color":"5"},
		{"id":"96f618a269fe86a3","type":"text","text":"\n| <font size = '42'>isCreditSumValid </font> |\n| ------------------------------------------ |\nПроверка суммы кредита на допустимо возможную\n\nМаксимальный размер остатка задолженности по кредиту:\n- 12 млн для объекта расположенного в Москве, Московской области, Санкт-Петербурге и Ленинградской области\n- 6 млн для объекта расположенного в иных регионах\n\n    \"contractType\": \"MORTGAGE\",                         //тип контракта (например MORTGAGE)\n    \"curentInterest\": null,                             //текущая задолженность. Проценты\n    \"currentAmount\": {                                  //Текущая задолженность\n      \"amount\": 1118040.42,                             //значение\n      \"currency\": \"RUB\"                                 //валюта\n\nПоле amount из этого объекта подходит?","x":6147,"y":19920,"width":1045,"height":440,"color":"5"},
		{"id":"8c3831aa97ca52c9","type":"text","text":"- [x] Исправить алгоритм работы метода\n- [x] Поправить таблицы входных/выходных параметров\n- [x] Перепроверить названия и описания проверок согласно разделу ЛМД\n- [ ] Проработать интеграции для выполнения автопроверок\n     - [x] Карточка ФЛ\n     - [x] 1503\n     - [ ] тема с детьми не раскрыта\n - [x] Созвониться с Владом Р. на счет проверок, может на что то ответит\n - [x] Выйти на 1503 через контакты, которые дал Антон, задать вопросы им","x":5107,"y":19980,"width":696,"height":420},
		{"id":"31be637fc678586a","type":"text","text":"\n\n<font size = '56'>Автоматические проверки</font>","x":4307,"y":20060,"width":440,"height":220,"color":"4"},
		{"id":"1d0ca04272fbbb2b","type":"text","text":" <font size = '42'>Вопрос решен </font>","x":7247,"y":18604,"width":240,"height":220,"color":"4"},
		{"id":"d4748340750649ee","type":"text","text":"| Рестра                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Каникулы                                                                                                                                                                                                                                                                                                                                                          |\n| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| 1. Сервис проверяет наличие поручений в БД **restructing****_monitoring  <br>**<br><br>2. Сервис делает выборку согласно полям:  <br>- **mdm_Id = mdmId**<br><br>- **public_id = publicId**<br><br>- **scheme** = **restructuringScheme**<br><br>- **status = RESTRUCTURING_AUTO_CHECKS_PASSED** или **RESTRUCTURING_IN_PROGRESS  <br>**<br><br>- **application_id**= null<br><br>  <br><br>2.1. Если запись найдена - проверка не пройдена  <br>3. Сервис заполняет исходящий параметр **additionalInfo.duplicateApplicationId** **= **application_id**** для найденой записи | Для подключения:<br>- mdm_id = mdmID<br>- public_id = publicId<br>- status_name = \"Автоматические проверки пройдены\" или \"В процессе подключения\"<br>Если записи найдены - проверка не пройдена<br><br><br>Для отключения:<br>- mdm_id = mdmID<br>- public_id = publicId<br>- status_name = \"В процессе отключения\"<br>Если записи найдены - проверка не пройдена |\n| Писал: Влад Романович                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Писал: Влад Костенок                                                                                                                                                                                                                                                                                                                                              |\n| application_id = null, а если не null? Если уже есть заявка в работе, тогда что, она не считается дубликатом?<br>status, два конкретных, с ними так то понятно, если есть                                                                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                   |\n\n","x":7267,"y":18871,"width":1620,"height":598},
		{"id":"b3d0d72f15cf2fc6","type":"text","text":"Антон пообещал найти соответствующий справочник и дать мне нужные значения для использования по **subProduct**","x":7267,"y":19556,"width":360,"height":129,"color":"5"},
		{"id":"4a7b63c0e06bf6cf","type":"text","text":"Вопрос с суммой кредита решен.\n\nОсталось выяснить как определить регион объекта.\n\nВ ответе от /details есть атрибут region, нужно выяснить подходит ли он для этого","x":7267,"y":19990,"width":600,"height":300,"color":"5"},
		{"id":"d57b1d5244d2c65a","type":"text","text":" <font size = '42'>Вопрос решен </font>","x":7687,"y":19511,"width":240,"height":220,"color":"4"},
		{"id":"0ff08add48b12c81","type":"text","text":"Ждём разработки целевого решения в нашем кластере\n3303 ОПС \"Обеспечение\" (PO Надежда Спирина), сервис будет собирать информацию от внешних систем-источников:\n- ОПС \"Залоги\"\n- ПП \"Обеспечение\"\n- ОПС \"Сервис обременения\"\n\nКогда всё будет готово, мы сможем оттуда брать подробную информацию по залогам, предмету ипотеки.","x":7927,"y":20007,"width":564,"height":267},
		{"id":"bb519a445c485094","type":"text","text":" <font size = '42'>Переведена в ручные </font>","x":8552,"y":20019,"width":340,"height":243,"color":"4"},
		{"id":"c889f3eecfaf385b","type":"text","text":" <font size = '42'>Вопросы по прохождению проверок </font>","x":6147,"y":18400,"width":1045,"height":100,"color":"1"},
		{"id":"f20f5e0b15f5861e","type":"text","text":"\n| <font size = '42'>isClientBorrower </font> |\n| ------------------------------------------ |\nКак выяснить является ли клиент займщиком/созаёмщиком?\n\nна intergation-adapter есть метод тянущий информацию из 1503 методом GET/productProfile/details\nНа вход принимает publicId\n\nС заёмщиком более-менее понятно, метод отдаёт mdmId клиента, можно проверить его на соответствие с имеющимся mdmId\nТак же там присутствует атрибут borrowerInfo в котором должна быть информация о заёмщике (склеенный ФИО судя по всему)\n\nНо как быть с созаёмщиком? В ответе метода есть массив \"participants\", необходимо выяснить что там соответствует созаёмщику\nкакой type.","x":6147,"y":18520,"width":1045,"height":387,"color":"5"},
		{"id":"c60664e2c9aba220","type":"text","text":"\n| <font size = '42'>isLoanDuplicate </font> |\n| ----------------------------------------- |\nЧто на самом деле является признаком дубликата заявки? Ведь клиент может после неудачной, отклоненной заявки прийти вновь\n\nmdm_id = mdmId\npublic_id = publicId\nstatus = ? любой статус, в котором app_status.id == \"New\" или \"In_progress\"\napplicationId = ? \n\n","x":6147,"y":19011,"width":1045,"height":317,"color":"5"},
		{"id":"1eb25f7085e18c35","type":"text","text":"Предварительный вывод по нашему кейсу:  mdm_id = mdmID, public_id = publicId - само собой, а вот на счет статусов поручения\nнужно подумать и посовещаться ","x":8967,"y":19128,"width":1040,"height":84},
		{"id":"f526ca9c1e5e4da1","type":"text","text":"Посовещались, дубликатом считаются все заявки, не находящиеся в отказных, или завершающих статусах","x":8967,"y":19212,"width":1040,"height":60,"color":"4"},
		{"id":"5ce78d2ae24435bd","type":"file","file":"Files/Pasted image 20250207115350.png","x":1980,"y":14960,"width":1617,"height":463},
		{"id":"371b14399309145b","type":"text","text":"<font size = '42'>Блок \"История принятия решений\"</font>\nНа первый взгляд этого ещё никто не реализовывал.\nКак это делать открытый вопрос, на app нет таблицы для истории работы с заявкой, следовательно попахивает отдельной таблицей на стороне нашего мкс для этого блока\nЧто то типа:\n\n| id  | Дата       | Статус   | Подразделение | Сотрудник      | Комментарий |\n| --- | ---------- | -------- | ------------- | -------------- | ----------- |\n|     | 10.12.2023 | Одобрено | Подразделение | ФИО сотрудника |             |\nВот на счет столбца \"Комментарий\" не очень понятно что за комент туда ложится? Из отдельного блока комментарии?","x":1980,"y":15432,"width":1617,"height":408},
		{"id":"385803411652e042","type":"text","text":"Так.\nОказывается для этого есть специальный микросервис **ipo-mlsrv-history**\nТам есть методы для добавления/получения записей об истории заявки.\n\nВсё неплохо описано в ТИС 1491_14, но дополнительно получил ссылку на постановки в сфера.локал от Дениса Багдасарова:\nhttps://sfera.inno.local/knowledge/pages?id=615313 - тут общий пул их постановок, нужно искать.","x":3840,"y":14960,"width":619,"height":299,"color":"4"},
		{"id":"9776658c3e0ae856","type":"text","text":"<font size = '42'>Таблица application_history</font>\n\n| Наименование атрибута        | Описание                                                    | Физическое наименование в БД | Обязательность | Тип данных   | Пример из БД                                    | Маппинг на поля нашего блока на экранной форме                                                                             |\n| ---------------------------- | ----------------------------------------------------------- | ---------------------------- | -------------- | ------------ | ----------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |\n| ID записи                    | Идентификатор записи                                        | id                           | 1              | int8         | 1                                               |                                                                                                                            |\n| ID заявки                    | Идентификатор заявки                                        | application_id               | 1              | int8         | 1                                               |                                                                                                                            |\n| Наименование статуса         | Наименование статуса                                        | status_name                  | 1              | varchar(255) | \"Закрыта\"                                       | У нас как будто подразумевается результат, но поле само собой есть                                                         |\n| Код статуса                  | Код статуса                                                 | status_code                  | 1              |              | <span style=\"color:red\">Отсутствует в БД</span> |                                                                                                                            |\n| Наименование бизнес статуса  | Наименование бизнес статуса для отображения на форме заявки | buisiness_status_name        | 1              |              | <span style=\"color:red\">Отсутствует в БД</span> |                                                                                                                            |\n| ID исполнителя               | Идентификатор исполнителя                                   | assignee_employee_id         | 1              | int8         | 7794                                            |                                                                                                                            |\n| ID подразделения исполнителя | Идентификатор подразделения исполнителя                     | assignee_unit_id             | 1              | int8         | 808                                             | Есть                                                                                                                       |\n| ID инициатора изменений      | Идентификатор ползователя, внесшего изменения               | creator_employee_id          | 1              | int8         | 121                                             | У нас на форме ФИО, если оперировать идентификатором будет нужен доп вызов откуда то с employee.                           |\n| Дата создания                | Дата создания записи                                        | created_at                   | 1              | timestamp    | 2024-09-23 15:48:58.346                         | Есть                                                                                                                       |\n|                              |                                                             |                              |                |              |                                                 | КОММЕНТАРИЙ видимо нужно как то связывать коменты оставленные в специальном блоке, или отказаться от него в рамках истории |\n","x":3727,"y":15334,"width":1613,"height":866},
		{"id":"560234b8e73e66ec","type":"text","text":"Не нужно оказалось, потому что будем проспекты создавать!","x":12520,"y":12946,"width":283,"height":89,"color":"1"},
		{"id":"37a4a7b2a3d2246e","type":"text","text":"10.02.2025\n\nПринято решение создавать на каждого ребёнка новый проспект с информацией:\n- Фамилия\n- Имя\n- Отчество\n- Дата рождения\nИ хранить на уровне нашей БД связки (id_поручения + id_проспекта + флаг ребёнок_инвалид)\n\nТак же согласована \"Прямая\" интеграция с 1442 без всяких УКД и т.д.","x":12920,"y":13020,"width":609,"height":351,"color":"4"},
		{"id":"28359efebb68344e","type":"text","text":"Так же есть видимо нерешенный окончательно вопрос с тем, как именно мы будем интегрироваться с Карточкой, напрямую или через специальную систему 1643 УКД","x":10460,"y":13120,"width":366,"height":224,"color":"1"},
		{"id":"df06bec6fc172978","type":"text","text":"<font size = '42'>История заявки НЕ ОДНО И ТОЖЕ с историей принятия решения</font>\n\nБлок \"История принятия решений\" нужен для фиксации решений именно андеррайтеров. \nПри решении по снижению ставки, андеррайтер выбирает \"решение\", пишет комментарий и жмёт \"отправить\".\n\nПосле этого в футере заявки в блоке \"История принятия решений\" должна будет отобразиться новая строка и инфой.\nПереиспользовать для этого тему с \"Историей заявки\" не стоит, потому что не нужно мешать разные функционалы, да и не получится, как минимум из-за наличия столбца \"Комментарий\"","x":5480,"y":15200,"width":804,"height":515,"color":"1"},
		{"id":"daa3647926adb104","type":"file","file":"Files/Pasted image 20250210142751.png","x":6300,"y":15200,"width":320,"height":703},
		{"id":"2774dc0ff2a88c24","type":"file","file":"Files/Pasted image 20250210143110.png","x":6720,"y":15458,"width":400,"height":138},
		{"id":"4b10cd6f72f2fa76","type":"text","text":"Решение видится следующим:\n\nЗаводим таблицу для хранения инфы о решениях.\n\nИ методы для взаимодействия с блоком: \n1. Создать запись\n2. Получить записи","x":7180,"y":15240,"width":320,"height":540,"color":"4"},
		{"id":"432f1244ab58772b","type":"text","text":"Итоговое решение.\n\nДобавить на сущность поручения атрибут decision_history (тип данных jsonb) чтобы хранить историю решений. Отдельную таблицу под это решили не городить. \nОтдельные методы для этого решили не делать. Добавление записей и получение планируется заключить в логику обновления/получения поручения.","x":7540,"y":15360,"width":500,"height":300,"color":"4"},
		{"id":"635535362959390c","type":"file","file":"Files/Pasted image 20250210180707.png","x":12382,"y":11811,"width":1685,"height":560},
		{"id":"71135003fbfda027","type":"text","text":"<font size = '42'>Блок \"СНИЛС\"</font>\n\nВсё как всегда, вроде всё понятно, но есть нюанс.\n\nПоля блока нужно предзаполнить из карточки, если что то не предзаполнилось, или заполнилось неверно, нужно обновить данные на карточке.\n\nТак вот, на предзаполнение, заводить новый метод на нашем беке, или оставить всё на стороне фронта?\n\n| за отдельный метод                                                                                                                                                                           | за оставить на стороне фронта |\n| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------- |\n| Отсутствие большого кол-ва вызовов на стороне фронта ради получения и обновления данных<br>4 вызова получается один для получения mdmId всей тусовки и 3 в случае если ни у кого снилсов нет | Отсутствие работы с BFF       |\n|                                                                                                                                                                                              |                               |\n","x":12382,"y":12371,"width":1685,"height":408},
		{"id":"10726c05744f613a","type":"file","file":"Files/Pasted image 20250211143100.png","x":1980,"y":16520,"width":1965,"height":1160},
		{"id":"04e13b2afadb700b","type":"text","text":"<font size = '42'>Переназначение исполнителя заявки в процессе ЖЦ заявки</font>\n\nНужно переиспользовать функционал, который напилили до нас на стороне команды залоги/поручители (контакт Ян Цабут)\n\nПостановка в которой описана цепочка вызовов методов с фронта:\nhttps://sfera.inno.local/knowledge/pages?id=1438386\n\nПостановку нужно изучить - позадавать вопросы.\n\nТак же как дополнительный контакт для задавания вопросов - Денис Багдасаров. В числе прочих, с ним разговаривал Ян когда они переиспользовали методы первой команды\n\nОт Влада Романовича\nhttps://sfera.inno.local/knowledge/pages?id=1424472","x":1980,"y":17680,"width":1965,"height":560},
		{"id":"3e8c7a808c13d0e0","type":"text","text":"<font size = '42'>РИСКИ</font>\nРешили создать на беке новый метод, который собирает и передаёт снилсы на фронт. Но появились риски.\n\nСамый стрёмный - отсутствие на стороне 1503 в массиве participants нужных записей о созаёмщике и поручителе. Соответственно мы не получим их mdmId и не подтянем на фронт их снилсы. \nКак поступить? \n- Угробить заявку?\n- Отправить на дозапрос?\n- Увести в отказ и попытаться попозже заново?\nВторой - допустим у нас есть все mdmId, мы обращаемся к карточке, а она 500, окей - ретраи, обновление страницы может помочь. А есть она 400? mdmId по какой то причине не принимаются? Что делать с заявкой?\n- Это может произойти например при процессе дедубликации mdmId, на своей стороне мы от этого не защитимся, остаётся только при возникновении такой ситуации\n\nИли пока забить на эти риски и держать их в голове на будущее?\n\nЗабить, принять тот факт что это ответственность 2199 и 1503","x":14280,"y":11987,"width":658,"height":653,"color":"1"},
		{"id":"6520146520c7ddb0","type":"text","text":"<font size = '42'>Личный беклог!</font>\n\n| Задача                                                                                        | Комент                    |\n| --------------------------------------------------------------------------------------------- | ------------------------- |\n| Создать UF ответвления на секьюр                                                              |                           |\n| Создать UF ответвления на блокирующие проверки                                                |                           |\n| Создать UF ответвления на фатальные проверки                                                  |                           |\n| ~~Создать UF процесса добавления детей~~                                                      |                           |\n| ~~Интеграция с 1442 \"Карточка ФЛ\" создание проспекта на ребёнка клиента~~                     |                           |\n| ~~Создание таблицы для хранения связей id_проспекта + флаг инвалидности~~                     |                           |\n| ~~Создание нового эндпоинта под получение детей на фронт~~                                    |                           |\n| ~~Интеграция с 1442 \"Карточка ФЛ\" внесение/обновление СНИЛС заёмщика/созаёмщика/поручителя~~  | Отказались от функционала |\n| Интеграция с 1442 \"Карточка ФЛ\" подключение к топику kafka с сообщениями о дедубликации mdmId |                           |\n| Интеграция с ОПС ОУ на получение/передачу массива процентных ставок                           |                           |\n| Передача в 2199 флага господдрежки                                                            |                           |\n| ~~Планировщик автоматического закрытия заявки по сроку~~                                      |                           |\n| Организация процесса стриминга данных в платформу данных                                      |                           |\n|                                                                                               |                           |\n| Подумать                                                                                      |                           |\n","x":1160,"y":-1080,"width":1140,"height":820},
		{"id":"8da1692afb234b50","type":"text","text":">*Вот тут две задачи начинают переплетаться ещё более тесно. Так как нам одобрили и создание \"проспектов\" (недокарточек) на детей клиента, и обновление снилсов заёмщика, созаёмщика, поручителя, начинается интересная история с анализом технической составляющей.* \n\n*Нужно:*\n- *Выяснить какими именно методами на карточке я смогу это делать?*\n- *Написать постановки на методы в адаптере (обновление карточки для изменения снилса и редактирования и если нужно изменения фио и др, и создание карточки)*\n- *Прописать взаимодействия через адаптер нашего микросервиса с карточкой*","x":15075,"y":11811,"width":250,"height":1669,"color":"4"},
		{"id":"f529798c17e7accc","type":"text","text":"Создание проспектов на детей","x":15540,"y":11900,"width":173,"height":107,"color":"5"},
		{"id":"be898ddd631aad80","type":"text","text":"Обновление проспекта ребёнка","x":15540,"y":12420,"width":173,"height":107,"color":"5"},
		{"id":"2917739715e2aaaa","type":"text","text":"Обновление \"Сохранение\" СНИЛС","x":15540,"y":12775,"width":173,"height":107,"color":"5"},
		{"id":"6446fde7f6d43fcb","type":"text","text":"\n\n<font size = '56'>Стриминг</font>","x":4307,"y":25160,"width":340,"height":120,"color":"4"},
		{"id":"213ff20ec0bb65d4","type":"text","text":"Получение детей","x":15540,"y":12152,"width":173,"height":107,"color":"5"},
		{"id":"38d969c6c4377c26","type":"text","text":"Готовы черновики/не отсмотренные разработкой постановки:\n\n- Метод создания проспекта на адаптере\n- Метод обновления проспекта/СНИЛС на адаптере\n- Метод создания/обновления проспекта на family\n- Метод сохранения СНИЛС на family\n- ","x":16040,"y":12153,"width":563,"height":642},
		{"id":"056a8ee9b42ebffe","type":"text","text":"Пока что ХЗ что это вообще такое и как к этому подходить. Но вроде как мы должны стримить что то в рамках общей заявки и возможно что то от себя.\n\nПоделились ссылками, нужно изучать:\n- Страрая постановка 14 подсистемы https://wiki.corp.dev.vtb/pages/viewpage.action?pageId=3480540844\n- Новая постановка 14 подсистемы -https://sfera.inno.local/knowledge/pages?id=1240127\n- ЛМД 14 подсистемы - https://sfera.vtb.ru/knowledge/pages?id=170261\n- Постановка от 2 команды переход на ШП- https://sfera.inno.local/knowledge/pages?id=1426126\n- Описание планировщика 2 команды https://sfera.vtb.ru/documents/spaces/0/artifacts/61520#56314812 (3.1.4.5. Сценарий 5 )\n- Интеграция со стримингом данных TSSS. Руководство по интеграции v2 -https://sfera.inno.local/knowledge/pages?id=1263956\n- Руководство по интеграции. Топики kafka https://sfera.inno.local/knowledge/pages?id=1278705\n\n\n+В случае чего можно к Владу Костенку сходить, попросить рассказ\nПо словам Решетовой О. дело не трудное, ШП-40 (стриминговый сервис?) разворачивается в рамках какой то библиотеки и дел минимум, что в плане аналитики, что в плане разработки.","x":5080,"y":24758,"width":696,"height":925},
		{"id":"49fd145ed881e7ce","type":"text","text":"Нужно связаться с Владом на счет стриминга\n\nВ принципе неплохо поговорили, что то стало яснее","x":5980,"y":24758,"width":320,"height":162,"color":"4"},
		{"id":"3041a0ed51d339b4","type":"text","text":"- Нужно изучить инструкции (так же разрабам их дать почитать)\n- Создать у нас таблицы для ШП40\n- Решить с Ольгой структуру сообщения\n  Взял у Влада пример сообщения, которое они стримят. Нам нужно разработать своё, потому что то, что для примера дала Ольга, оно про каникулы\n- Создать на стороне платформы новый топик\n","x":5980,"y":25000,"width":660,"height":920,"color":"1"},
		{"id":"86bb7b590ab109f7","type":"text","text":"<font size = '42'>Пример сообщения стриминга каникул</font>\n\n```json\n{\n  \"changeId\": \"478154b2-bf38-4b92-8ae4-fffb7b494230\",\n  \"changeType\": \"Default\",\n  \"changeOwner\": \"ipo_mlsrv_holidays\",\n  \"changeTimestamp\": \"2025-02-21T12:33:03.346613431\",\n  \"payload\": {\n    \"HolidayType\": {\n      \"Dictionary\": {\n        \"Id\": \"3f94f54d-a17b-4983-90e8-ddd405621c05\",\n        \"System\": \"IPO\",\n        \"SubSystem\": \"IPO-MLSRV\"\n      },\n      \"Key\": \"Fz353\",\n      \"KeyName\": \"holidays_type\"\n    },\n    \"HolidaysLoanMinPayment\": {\n      \"Value\": 0,\n      \"Currency\": {\n        \"Key\": \"RUB\",\n        \"KeyName\": \"iso_lat3\",\n        \"Dictionary\": {\n          \"Id\": \"OKV\",\n          \"System\": \"OSRF\",\n          \"SubSystem\": null\n        }\n      }\n    },\n    \"Type\": \"CreditHolidays\",\n    \"Status\": \"Error\",\n    \"Duration\": {\n      \"Unit\": \"Month\",\n      \"Value\": 6\n    },\n    \"ActivationDate\": null,\n    \"LifeSpan\": {\n      \"EffectiveTime\": \"2025-02-20\",\n      \"ExpirationTime\": \"2025-02-21\",\n      \"RevocationTime\": null,\n      \"RevocationInfo\": {\n        \"Code\": \"КЛИЕНТ\",\n        \"Info\": \"По инициативе Клиента\"\n      }\n    },\n    \"ReasonOfActivation\": {\n      \"Key\": \"КЛИЕНТ\",\n      \"KeyName\": \"holidays_base_code\",\n      \"Dictionary\": {\n        \"Id\": \"3820a9fe-3137-4207-86c6-b4b34819f5fb\",\n        \"System\": \"IPO\",\n        \"SubSystem\": \"IPO-MLSRV\"\n      }\n    },\n    \"ReasonOfReject\": null,\n    \"ReasonOfClose\": {\n      \"Code\": \"КЛИЕНТ\",\n      \"Info\": \"По инициативе Клиента\"\n    },\n    \"Id\": {\n      \"Id\": \"543\",\n      \"System\": \"IPO\",\n      \"SubSystem\": \"IPO-MLSRV\",\n      \"UpdateTime\": \"2025-02-21T12:33:03.338940744\",\n      \"CreateTime\": \"2025-02-21T12:33:02.829547\"\n    }\n  },\n  \"Meta\": {\n    \"Class\": \"RetailLoanServiceCreditHolidays\"\n  }\n}\n```\n","x":6967,"y":24758,"width":1033,"height":1682},
		{"id":"e40295176b76ac9d","type":"text","text":"\n\n<font size = '56'>ОС РС</font>","x":4307,"y":26600,"width":340,"height":120,"color":"4"},
		{"id":"7253fad9371ed642","type":"text","text":"https://sfera.inno.local/knowledge/pages?id=1438699 - дедубликация от Влада К","x":5008,"y":27089,"width":840,"height":342},
		{"id":"38b292f4c79636a2","type":"text","text":"\n\n<font size = '56'>Дедубликация mdmId</font>","x":4240,"y":27145,"width":407,"height":231,"color":"4"},
		{"id":"bdb4a5e7e296d825","type":"text","text":"\n\n<font size = '56'>Признак семейки в 2199 </font>","x":4240,"y":27700,"width":407,"height":231,"color":"4"},
		{"id":"a1fb7a9683645678","type":"text","text":"Есть необходимости в создании на стороне ОС РС справочников для семейки и субсидирования (семейка там одной записью из нескольких сотен обозначена, класс)\n\nПолезные ссылки:\n1. Процесс создания справочника: https://sfera.inno.local/knowledge/pages?id=1311321\n2. Ассортимент справочников: https://sfera.inno.local/knowledge/pages?id=1459096\n3. Шаблон РДС на создание справочника: https://sfera.inno.local/knowledge/pages?id=1108625\n4. Шаблон РДС на подключение к справочнику: https://sfera.inno.local/knowledge/pages?id=1107502\n\n\nhttps://sfera.inno.local/knowledge/pages?id=1108625 - шаблон создания справочника\nhttps://sfera.inno.local/tasks/task/RDS-238263 - некорректная РДС-ка, но комменты полезные\nhttps://sfera.inno.local/tasks/task/RDS-254373 - корректная РДС-ка\n\nhttps://sfera.inno.local/knowledge/pages?id=1311316 - основные шаги взаимодействия с ОС РС\nhttps://sfera.inno.local/knowledge/pages?id=522609 - шаблоны РДС\nhttps://sfera.inno.local/knowledge/pages?id=265801 - состав работ сервиса\nhttps://sfera.inno.local/knowledge/pages?id=265541 - сценарии проверки на ПСИ\nhttps://sfera.inno.local/knowledge/pages?id=476798 - получение данных по REST\nhttps://sfera.inno.local/knowledge/pages?id=1459096 - реестр\nhttps://sfera.inno.local/knowledge/pages?id=265489 - получение данных по kafka","x":5008,"y":26332,"width":840,"height":656},
		{"id":"39654c370351ebee","type":"text","text":"Тяжело к пониманию на самом деле.\nОт рестры (от Максима Пугачева) есть ряд ссылок, которые нужно изучить.\n\n\n\n","x":5008,"y":27750,"width":840,"height":132},
		{"id":"5cf24894b0ba347b","type":"file","file":"Files/Pasted image 20250313163724.png","x":5008,"y":27900,"width":892,"height":140},
		{"id":"4055e27644e91819","type":"text","text":"<font size = '42'>ТкР первый релиз</font>\n\n\nПеренести методы:\n- [ ] Создание поручения\n    - [x] Выгружен и перенесён на ВРМ\n    - [x] Внесен в ТкР\n    - [ ] Дополнить ошибки и тело ответа json\n- [ ] Обновление поручения\n    - [x] Выгружен и перенесён на ВРМ\n- [ ] Получение поручения (два метода)\n    - [x] Выгружен и перенесён на ВРМ\n    - [ ] Дополнить decisionHistory\n    - [ ] Дополнить ошибки и тело ответа json\n- [ ] Автопроверки клиента\n    - [x] Выгружен и перенесён на ВРМ\n    - [x] Внесен в ТкР\n    - [ ] Дополнить ошибки и тело ответа json\n- [ ] Эмуляция\n    - [x] Выгружен и перенесён на ВРМ\n    - [x] + метод sheduleFamily\n- [ ] Печатная форма заявления\n    - [x] Выгружен и перенесён на ВРМ\n- [ ] Создание обновление проспекта\n    - [ ] + по всей видимости новые методы адаптера\n        - [x] Выгружены и перенесёны на ВРМ\n- [ ] Получение ребёнка клиента \n- [ ] Методы integration-adapter:\n    - [ ] GET/api/client/{mdmId}\n    - [ ] GET/api/productProfile/contract/{contractNumber}/details\n- [ ] Метод autoassignment\n- [ ] Внести уточнения по комментариям, проставленным красным цветом.\n- [ ] Внести json-ы ответов 200ОК (а может и для негативных кейсов)","x":1160,"y":-234,"width":860,"height":1034},
		{"id":"9febc1a7b017c082","type":"text","text":"<font size = '42'>GET /productProfile/details - ОТВЕТ (из сваггера)</font>\n\n\n```json\n{\n  \"data\": {                                           //Базовые атрибуты детальной информации по продукту\n    \"@type\": \"LoanDetail\",                            //Кредит\n    \"type\": null,\n    \"alias\": null,                                    //Пользовательское название продукта\n    \"balance\": null,                                  //Доступный остаток\n    \"branch\": \"00000\",                                //код филиала банка\n    \"closeDate\": null,                                //Дата закрытия договора\n    \"entityName\": null,                               //Имя продукта\n    \"entitySubSystems\": null,                         //Система которой принадлежит продукт\n    \"entityType\": null,                               //Тип продукта\n    \"expireDate\": \"2024-12-27\",                       //Планируемая дата закрытия\n    \"externalIdPart1\": null,                          //не использовать\n    \"externalIdPart2\": null,                          //не использовать\n    \"favourite\": null,                                //избранное\n    \"isActive\": null,                                 //признак активного/архивного продукта\n    \"isBlocked\": null,\n    \"mayDebit\": null,                                 //дебетирование счета\n    \"mayCredit\": null,                                //кредитование счета\n    \"name\": null,                                     //клиентское название продукта\n    \"openDate\": \"2022-09-20\",                         //дата открытия\n    \"productId\": null,\n    \"publicId\": null,                                 //публичный идентификатор продукта\n    \"state\": null,                                    //статус загрузки из учетной системы\n    \"status\": \"cm.LoanContractStatus.Active\",         //статус кредита\n    \"statusDisplayName\": null,                        //клиентское название статуса\n    \"systemInstance\": null,                           //каноническое название инстанса системы\n    \"timestamp\": null,                                //дата последней загрузки продукта из учетной системы\n    \"userId\": null,                                   //идентификатор пользователя\n    \"version\": null,                                  //не использовать\n    \"visible\": null,                                  //флаг видимый продукт\n    \"vtbPay\": null,                                   //признка ВТБ pay\n    \"account\": null,                                  //номер счета погашения кредита\n    \"accruedInterest\": null,                          //начисленные проценты\n    \"additionalInfo\": {\n      \"productList\": [\n        {\n          \"id\": \"3820a9fe-3137-4207-86c6-b4b34819f5f2\"\n        }\n      ]\n    },\n    \"debtList\": [                                       //детализация информации о задолженностях\n      {\n        \"debtType\": 0,                                  //тип задолженности\n        \"amount\": 100,                                  //сумма задолженности\n        \"debtDate\": \"2024-11-20\"                        //дата формирования задолженности\n      }\n    ],\n    \"advancedRepaymentAmount\": {                        //общая сумма задолженности включая просрочки и штрафы\n      \"amount\": 8399.48,\n      \"currency\": \"RUB\"\n    },\n    \"bankingProductCode\": null,                         //код бизнес-продукта\n    \"borrowerInfo\": null,                               //данные заёмщика (ФИО)\n    \"collateralList\": [                                 //список залогов по договору\n      {\n        \"collateralAddress\": \"новосибирск, Обская 80\",  //адрес местонахождения залога\n        \"collateralCode\": \"3.6.9.1\",                    //код типа залога\n        \"collateralEndDate\": \"2022-06-02\",              //дата окончания\n        \"collateralRegistrationDate\": \"2022-06-02\",     //дата регистрации права собственности\n        \"collateralStartDate\": \"2022-06-02\"             //дата начала\n      }\n    ],\n    \"companyName\": null,\n    \"contrPeriodUnit\": {                                //Срок договора в месяцах\n      \"unit\": \"MONTH\",                                  //собственно юнит\n      \"count\": 12                                       //значение\n    },\n    \"contrSum\": {                                       //начальная сумма кредита\n      \"amount\": 15000000,                               //значение\n      \"currency\": \"RUB\"                                 //валюта\n    },\n    \"contractNumber\": null,\n    \"contractType\": \"MORTGAGE\",                         //тип контракта (например MORTGAGE)\n    \"curentInterest\": null,                             //текущая задолженность. Проценты\n    \"currentAmount\": {                                  //Текущая задолженность\n      \"amount\": 1118040.42,                             //значение\n      \"currency\": \"RUB\"                                 //валюта\n    },\n    \"daysDelay\": null,                                  //количество дней просрочки\n    \"duePrincipal\": null,                               //основной долг\n    \"endPaymentDate\": \"2025-07-15\",                     //дата окончания платёжного периода\n    \"finalPaymentDate\": \"2032-07-12\",                   //дата последнего платежа по графику (с учетом перерачета ПДП/ЧДП)\n    \"giveDate\": null,\n    \"hasOverdue\": false,                                //признак просрочки платежа\n    \"inMigrationProcess\": null,                         //продукт находится в миграции\n    \"insurance\": null,                                  //признак наличия страховки\n    \"isClosed\": null,                                   //флаг закрыто ли\n    \"isMigrated\": null,                                 //признак того что продукт мигрировал\n    \"isSoldOut\": null,                                  //признак полной продажи договора\n    \"kind\": \"kind!!!!!!!!!!!!\",                         //вид кредита (Кредит, РО, Цессия)\n    \"lastPaymentAmount\": null,                          //сумма последнего платежа\n    \"lastPaymentDate\": null,                            //дата последнего платежа\n    \"loanAccount\": null,                                //номер ссудного счета по кредиту\n    \"loanRest\": null,                                   //текущий остаток\n    \"mortgage\": null,                                   //признак ипотечного кредита\n    \"nis\": null,                                        //признак принадлежности договора к Накопительно-ипотечной системе жилищного обеспечения военнослужащих\n    \"number\": \"12345\",                                  //номер договора по кредиту\n    \"participants\": [\n      {\n        \"localSystemClientId\": \"54321\",\n        \"mdmId\": \"54321\",\n        \"type\": \"type!!!!!!!!!!!!!!!!!\"\n      },\n      {\n        \"localSystemClientId\": \"localSystemClientId!!!!!!!!!!!!!!!!!\",\n        \"mdmId\": \"777\",\n        \"type\": \"type!!!!!!!!!!!!!!!!!\"\n      }\n    ],\n    \"pastDue\": null,                                     //основная сумма просроченной задолжности\n    \"pastDueAmount\": null,                               //общая сумма просроченной задолженности\n    \"pastDueDate\": \"2022-07-12\",                         //дата возникновения просрочки\n    \"pastDueInterest\": null,                             //проценты по просроченной задолженности\n    \"pastDueInterestPentality\": null,                    //штраф за просроченную выплату процентов\n    \"pastDuePentality\": null,                            //штраф за просроченную выплату\n    \"pastStateDuty\": null,                               //госпошлина\n    \"pastdueCommision\": null,                            //комиссия\n    \"pastdueCommisionPentality\": null,                   //штраф за просроченную выплату комиссии\n    \"paymentAccuredtInterest\": null,                     //начисленные проценты\n    \"paymentCurrentInterest\": null,                      //проценты за текущий период\n    \"payoutDate\": null,\n    \"planningPaymentAmount\": null,                       //сумма планового платежа\n    \"planningPaymentDate\": \"2024-07-12\",                 //дата планового платежа\n    \"productType\": null,\n    \"rate\": null,                                        //ставка по кредиту %\n    \"rateType\": null,                                    //тип процентной ставки\n    \"region\": null,                                      //регион\n    \"repaymentDelayDate\": \"2032-07-12\",                  //дата исполнения заявления на погашение просроченной задолженности\n    \"salePoint\": \"00000\",                                //код точки продажи\n    \"subProductType\": \"БФКО_И7\",                         //тип субпродукта\n    \"timeZoneDiff\": \"0\",\n    \"unusedLimit\": null,                                 //неиспользованный лимит\n    \"participantRole\": \"DEBTOR\"\n  },\n  \"errorString\": \"ERROR!!!!!!!!!\",                       //Описание ошибки\n  \"result\": \"result!!!!!!!!!!!!!!!!!!!!!\",               //Результат запроса\n  \"loadingInfo\": null,                                   //Информация о загрузке продуктов из бек-систем\n  \"mdmId\": \"12345\"                                       //id клиента\n}\n```","x":8990,"y":-1547,"width":1350,"height":3148},
		{"id":"12704a6d5ed0d987","type":"text","text":"Беспокоит:\n1. Дата изменения ставки на фронте. Заполняемая автоматически по \"первому дню нового платёжного периода\". Мы обошлись с ней очень примитивно взяв nextPaymentDate из 1503. Возможно стоит брать и анализировать полный график платежей из 2199.\n2. Переназначение исполнителя. Элемент вроде заработал. Но делает ли Кристина put на app?\n3. Что там по новому retailLoanService? В котором должна быть привязка к справочнику?","x":760,"y":700,"width":294,"height":580},
		{"id":"ad0a3e0b2a4d75b6","type":"text","text":"Смена серта на токене:\n1. я только через поддержку заявку оставлял на смену серта. Они отправляли заявку в Саратовский филиал ВТБ. Приезжал туда и там мне в токен серт новый загружали в ручную. Я только так умею)\n   Сохранились даже контакты на всякий случай из нашего Саратовского ВТБ офиса :\n   89033855017\n   Алексей\n2. Обновление сертов USB токена не ранее 14 дней до даты истечения срока","x":-700,"y":-1640,"width":828,"height":500},
		{"id":"d5214a8de17c21f1","type":"file","file":"Files/image_2025-04-22_15-28-09.png","x":-1355,"y":-1720,"width":2407,"height":50},
		{"id":"20ad70c766f9e36a","type":"file","file":"Files/Pasted image 20250422193523.png","x":-1355,"y":-1880,"width":400,"height":76},
		{"id":"89a2013472610a35","type":"file","file":"Files/Pasted image 20250422193534.png","x":-1355,"y":-2000,"width":400,"height":40},
		{"id":"4fc94c95e4d0af6a","x":-960,"y":586,"width":400,"height":278,"type":"file","file":"Files/Pasted image 20250423021214.png"}
	],
	"edges":[
		{"id":"e716185934f4a8ec","fromNode":"485f9b7c321fa5c1","fromSide":"bottom","toNode":"38b4a6a3485a3b68","toSide":"top"},
		{"id":"6f98228db2aa5b72","fromNode":"485f9b7c321fa5c1","fromSide":"bottom","toNode":"2d0913a44a604fd1","toSide":"top"},
		{"id":"bdebe81ef2a80239","fromNode":"38b4a6a3485a3b68","fromSide":"bottom","toNode":"3580bbfdc564ef6a","toSide":"top"},
		{"id":"194b17630ddea6b1","fromNode":"61a0ff6a76de25fc","fromSide":"left","toNode":"3580bbfdc564ef6a","toSide":"right"},
		{"id":"c714360ba90a5758","fromNode":"485f9b7c321fa5c1","fromSide":"left","toNode":"8d965cf3979e0c2f","toSide":"top"},
		{"id":"8801d70709ddc975","fromNode":"8d965cf3979e0c2f","fromSide":"bottom","toNode":"714e0450386e95fc","toSide":"top"},
		{"id":"b1cfeeadab4002b8","fromNode":"8d965cf3979e0c2f","fromSide":"left","toNode":"0451bfbffa29847a","toSide":"right"},
		{"id":"c2e9ebf30a64c68c","fromNode":"0451bfbffa29847a","fromSide":"top","toNode":"d864c48338da1b49","toSide":"bottom"},
		{"id":"a3046963c5e70080","fromNode":"485f9b7c321fa5c1","fromSide":"top","toNode":"fbd3b2c11c34bbf0","toSide":"bottom"},
		{"id":"a8050249d20bb8a0","fromNode":"9aacc319f0cd2d6b","fromSide":"bottom","toNode":"485f9b7c321fa5c1","toSide":"right"},
		{"id":"6e37a1bd511b330e","fromNode":"485f9b7c321fa5c1","fromSide":"bottom","toNode":"abe78e591acefc52","toSide":"bottom"},
		{"id":"10da91bb92a2cc4d","fromNode":"679764d437565081","fromSide":"right","toNode":"71f2a00571026b2a","toSide":"left"},
		{"id":"4343444e0643b44c","fromNode":"679764d437565081","fromSide":"right","toNode":"8a7cfa79e5b9d06d","toSide":"left"},
		{"id":"9bae4175baf3d170","fromNode":"8a7cfa79e5b9d06d","fromSide":"right","toNode":"4d4b4a5e7a144c9f","toSide":"left"},
		{"id":"0d64cac94519987c","fromNode":"679764d437565081","fromSide":"right","toNode":"c302b57396d85cfd","toSide":"left"},
		{"id":"2a9ed0cf81139412","fromNode":"c302b57396d85cfd","fromSide":"bottom","toNode":"e8a696b819125d1d","toSide":"top"},
		{"id":"deff1ca19a82d14d","fromNode":"e8a696b819125d1d","fromSide":"right","toNode":"2351cb701e9e1a70","toSide":"top"},
		{"id":"5f8aba66ce0c4005","fromNode":"e2daca8b296501d0","fromSide":"right","toNode":"b6671a08c558fc80","toSide":"left"},
		{"id":"bab47a7d8883762c","fromNode":"b6671a08c558fc80","fromSide":"bottom","toNode":"9456ed25e07b8963","toSide":"top"},
		{"id":"6580c4fb1201d930","fromNode":"7147a5ceaab055a5","fromSide":"right","toNode":"705fba97e83a4edb","toSide":"left"},
		{"id":"a9e24d1fa84c3ca5","fromNode":"7147a5ceaab055a5","fromSide":"right","toNode":"1b4acfd4dc5a32fa","toSide":"left"},
		{"id":"76a7371762146b66","fromNode":"7147a5ceaab055a5","fromSide":"right","toNode":"ea956ed38117175c","toSide":"left"},
		{"id":"c551b16516f72794","fromNode":"7147a5ceaab055a5","fromSide":"right","toNode":"3c9c65d0d857f2f4","toSide":"left"},
		{"id":"a49fe45203ae59e0","fromNode":"705fba97e83a4edb","fromSide":"right","toNode":"d8d7c4b368bccc07","toSide":"left"},
		{"id":"5bde4a8ac4e91374","fromNode":"705fba97e83a4edb","fromSide":"right","toNode":"a7af43692a827ff3","toSide":"left"},
		{"id":"d72516733e015dc9","fromNode":"a7af43692a827ff3","fromSide":"right","toNode":"26508692226d1aaf","toSide":"left"},
		{"id":"27f6a5ca76e89a66","fromNode":"26508692226d1aaf","fromSide":"right","toNode":"311ddbf6736e6f32","toSide":"left"},
		{"id":"c025180a8a0258d5","fromNode":"1b4acfd4dc5a32fa","fromSide":"right","toNode":"d4eb7a2002e35828","toSide":"left"},
		{"id":"350dac87569cbc82","fromNode":"1b4acfd4dc5a32fa","fromSide":"right","toNode":"daf25cd6cdf2c469","toSide":"left"},
		{"id":"57d8d015d0af9446","fromNode":"d8d7c4b368bccc07","fromSide":"right","toNode":"a33fda7a478489c8","toSide":"left"},
		{"id":"c536e438a328efe6","fromNode":"a33fda7a478489c8","fromSide":"right","toNode":"5f5d39e9fa20e1bc","toSide":"left"},
		{"id":"5aa49b4dcaaef612","fromNode":"311ddbf6736e6f32","fromSide":"right","toNode":"49f85e80ac7cad14","toSide":"left"},
		{"id":"588c6a49dadf8535","fromNode":"5f5d39e9fa20e1bc","fromSide":"right","toNode":"49f85e80ac7cad14","toSide":"left"},
		{"id":"bac17ba09ff08924","fromNode":"ea956ed38117175c","fromSide":"right","toNode":"79d867a0815b5bb8","toSide":"left"},
		{"id":"cdd3ed9817949f76","fromNode":"3c9c65d0d857f2f4","fromSide":"right","toNode":"75c891811adf35ff","toSide":"left"},
		{"id":"1ba96e7737f537b8","fromNode":"fa088b8c087fd448","fromSide":"bottom","toNode":"cb8a4eb2b0f1ba4d","toSide":"top"},
		{"id":"80f5783b73efa75a","fromNode":"75c891811adf35ff","fromSide":"right","toNode":"d1cdfec392131981","toSide":"left"},
		{"id":"0d01255bcb444878","fromNode":"75c891811adf35ff","fromSide":"right","toNode":"e38bfcdda7292376","toSide":"left"},
		{"id":"943e0e4c63255d4d","fromNode":"75c891811adf35ff","fromSide":"right","toNode":"3d152336fe83a5cf","toSide":"left"},
		{"id":"f6670c4ed591cd32","fromNode":"3df1b1223087609a","fromSide":"right","toNode":"065d09ce375c5e1a","toSide":"left"},
		{"id":"8f678b5472bcf300","fromNode":"065d09ce375c5e1a","fromSide":"right","toNode":"b883a4748fc81596","toSide":"left"},
		{"id":"4138c75a817fffd5","fromNode":"e38bfcdda7292376","fromSide":"right","toNode":"5a40b7480f4dab96","toSide":"left"},
		{"id":"865ee0587148ca57","fromNode":"d1cdfec392131981","fromSide":"right","toNode":"5a40b7480f4dab96","toSide":"top"},
		{"id":"a4ef86bdda041dbe","fromNode":"3d152336fe83a5cf","fromSide":"right","toNode":"5a40b7480f4dab96","toSide":"bottom"},
		{"id":"814de7a1308d415f","fromNode":"5a40b7480f4dab96","fromSide":"right","toNode":"9a8c6646e798358e","toSide":"left"},
		{"id":"4a62090f861f9333","fromNode":"9a8c6646e798358e","fromSide":"right","toNode":"93c4c56ed4a9b507","toSide":"left"},
		{"id":"87811e4e773be268","fromNode":"d794c9a6dd1c6b96","fromSide":"left","toNode":"f1d143597c695cf2","toSide":"right"},
		{"id":"d04a071961700a11","fromNode":"9a8c6646e798358e","fromSide":"bottom","toNode":"f1d143597c695cf2","toSide":"top"},
		{"id":"35a1d0ebd0650c7f","fromNode":"e26d97e117407c1b","fromSide":"right","toNode":"7147a5ceaab055a5","toSide":"left"},
		{"id":"6fba7acef1c302ae","fromNode":"e26d97e117407c1b","fromSide":"right","toNode":"3df1b1223087609a","toSide":"left"},
		{"id":"458d170fe29aeeef","fromNode":"31be637fc678586a","fromSide":"right","toNode":"8c3831aa97ca52c9","toSide":"left"},
		{"id":"ebd4b71df9f318bb","fromNode":"c302b57396d85cfd","fromSide":"right","toNode":"9febc1a7b017c082","toSide":"left"},
		{"id":"e34d437499aad83a","fromNode":"8c3831aa97ca52c9","fromSide":"right","toNode":"f20f5e0b15f5861e","toSide":"left"},
		{"id":"a1d77cbf29752af9","fromNode":"8c3831aa97ca52c9","fromSide":"right","toNode":"c60664e2c9aba220","toSide":"left"},
		{"id":"66141d5665616005","fromNode":"8c3831aa97ca52c9","fromSide":"right","toNode":"f4a7c507e6f6d976","toSide":"left"},
		{"id":"821633244baf1aa5","fromNode":"8c3831aa97ca52c9","fromSide":"right","toNode":"96f618a269fe86a3","toSide":"left"},
		{"id":"c2dcbe95fa11bf67","fromNode":"8c3831aa97ca52c9","fromSide":"right","toNode":"5c656bc0387b6798","toSide":"left"},
		{"id":"813fc1ae3bd881dd","fromNode":"8c3831aa97ca52c9","fromSide":"right","toNode":"75a4beaed5ff4338","toSide":"left"},
		{"id":"bf94d2354d27386e","fromNode":"8c3831aa97ca52c9","fromSide":"right","toNode":"f8c29f11c766e3e3","toSide":"left"},
		{"id":"8720d5b4709cb425","fromNode":"8c3831aa97ca52c9","fromSide":"right","toNode":"0997f84c16f0710e","toSide":"left"},
		{"id":"c2eba242846dc09c","fromNode":"f20f5e0b15f5861e","fromSide":"right","toNode":"1d0ca04272fbbb2b","toSide":"left"},
		{"id":"4bd1eadd867830ea","fromNode":"96f618a269fe86a3","fromSide":"right","toNode":"4a7b63c0e06bf6cf","toSide":"left"},
		{"id":"ce053a380188c951","fromNode":"75a4beaed5ff4338","fromSide":"right","toNode":"d9734bca2b6dbd4b","toSide":"left"},
		{"id":"f03f6814b51c0e17","fromNode":"0997f84c16f0710e","fromSide":"right","toNode":"21e4314e76cec049","toSide":"left"},
		{"id":"bc4fbc17032f322c","fromNode":"f4a7c507e6f6d976","fromSide":"right","toNode":"b3d0d72f15cf2fc6","toSide":"left"},
		{"id":"a60212d2e8653d74","fromNode":"c60664e2c9aba220","fromSide":"right","toNode":"d4748340750649ee","toSide":"left"},
		{"id":"9ffa1b1082bcc270","fromNode":"d4748340750649ee","fromSide":"right","toNode":"1eb25f7085e18c35","toSide":"left"},
		{"id":"f4203d3f1d7687f3","fromNode":"9a8c6646e798358e","fromSide":"top","toNode":"089dabae8f413bd2","toSide":"top"},
		{"id":"48b1c9e3f7515afc","fromNode":"089dabae8f413bd2","fromSide":"bottom","toNode":"6140070be1e2d1b3","toSide":"top"},
		{"id":"f43d63b8d4731ecd","fromNode":"089dabae8f413bd2","fromSide":"bottom","toNode":"d0aa2db25ed87b90","toSide":"top"},
		{"id":"7d92ddb2f8914389","fromNode":"6140070be1e2d1b3","fromSide":"bottom","toNode":"ee6797759265340c","toSide":"top"},
		{"id":"6fb30842d143ceab","fromNode":"b3d0d72f15cf2fc6","fromSide":"right","toNode":"d57b1d5244d2c65a","toSide":"left"},
		{"id":"a456e9c6484fdc85","fromNode":"ee6797759265340c","fromSide":"right","toNode":"d9dccaca7314da76","toSide":"left"},
		{"id":"ca18299a8b39570e","fromNode":"f8c29f11c766e3e3","fromSide":"right","toNode":"31ada112fbf53e0f","toSide":"left"},
		{"id":"2d495c3b1111bc28","fromNode":"31ada112fbf53e0f","fromSide":"right","toNode":"c7d82bf5fa586533","toSide":"left"},
		{"id":"aa6c11b4ba8d7323","fromNode":"5c656bc0387b6798","fromSide":"right","toNode":"ef7612e33922e40d","toSide":"left"},
		{"id":"4d270abf98cd2edc","fromNode":"ef7612e33922e40d","fromSide":"right","toNode":"7813bbbb6606ac50","toSide":"left"},
		{"id":"72c525ae3315abe6","fromNode":"4a7b63c0e06bf6cf","fromSide":"right","toNode":"0ff08add48b12c81","toSide":"left"},
		{"id":"4f2cf10b0fa39736","fromNode":"94d410566050ae35","fromSide":"right","toNode":"5e551cddbcd49c41","toSide":"left"},
		{"id":"b58ded4e8abad10d","fromNode":"5e551cddbcd49c41","fromSide":"right","toNode":"94ba05c91acd5c9e","toSide":"left"},
		{"id":"8e34250718f639ca","fromNode":"5e551cddbcd49c41","fromSide":"right","toNode":"4e8a1aa49652987f","toSide":"left"},
		{"id":"75b29b534c5bb154","fromNode":"5e551cddbcd49c41","fromSide":"right","toNode":"8b0d3eb4cfe09b79","toSide":"left"},
		{"id":"87fd10b5c69785a4","fromNode":"8b0d3eb4cfe09b79","fromSide":"right","toNode":"f58f3fc75da0494d","toSide":"left"},
		{"id":"39bcabb8e2f7e52b","fromNode":"1cb60c9615a8fc0c","fromSide":"right","toNode":"6a90b038a923069b","toSide":"left"},
		{"id":"d915aa22ce9d755e","fromNode":"6a90b038a923069b","fromSide":"right","toNode":"91ef07d6cefd7826","toSide":"left"},
		{"id":"39463e7f35ed28f3","fromNode":"91ef07d6cefd7826","fromSide":"right","toNode":"fc5177b06fbbd392","toSide":"left"},
		{"id":"da5be749356bdfac","fromNode":"91ef07d6cefd7826","fromSide":"right","toNode":"197f21da6cdc52ce","toSide":"left"},
		{"id":"a1956dfcc82a3c4c","fromNode":"fc5177b06fbbd392","fromSide":"right","toNode":"3d17c47ae3e57f40","toSide":"left"},
		{"id":"ab1235ff8ddbd409","fromNode":"fc5177b06fbbd392","fromSide":"right","toNode":"8fe29761e8ff5710","toSide":"left"},
		{"id":"3e86fd789f98d84b","fromNode":"197f21da6cdc52ce","fromSide":"right","toNode":"cb33d46995950677","toSide":"left"},
		{"id":"66586ddb1bdd118d","fromNode":"1061da1faa190df7","fromSide":"right","toNode":"da25afbe532a3e7c","toSide":"left"},
		{"id":"ed05a8b82da6ea3c","fromNode":"da25afbe532a3e7c","fromSide":"right","toNode":"94b1a4356d153e45","toSide":"left"},
		{"id":"d19d809e6014572e","fromNode":"fa097bd3e9b80013","fromSide":"right","toNode":"1cb60c9615a8fc0c","toSide":"left"},
		{"id":"148e877facdc8966","fromNode":"952bbea35c8ea70f","fromSide":"right","toNode":"1cb60c9615a8fc0c","toSide":"left"},
		{"id":"8f91580873d72523","fromNode":"563aa777a6893ef2","fromSide":"right","toNode":"1061da1faa190df7","toSide":"left"},
		{"id":"3b82bf308a5492c4","fromNode":"e7636b7fe0686528","fromSide":"right","toNode":"fa097bd3e9b80013","toSide":"left"},
		{"id":"f82cdef8cec045fd","fromNode":"e7636b7fe0686528","fromSide":"right","toNode":"563aa777a6893ef2","toSide":"left"},
		{"id":"c60385a36f7e5fa6","fromNode":"e7636b7fe0686528","fromSide":"right","toNode":"952bbea35c8ea70f","toSide":"left"},
		{"id":"2a8ce5006c3bb7e7","fromNode":"8fe29761e8ff5710","fromSide":"right","toNode":"921cbd1da6de63a7","toSide":"left"},
		{"id":"0dd747b8c39ec3f8","fromNode":"6a90b038a923069b","fromSide":"right","toNode":"722337f5ec854b9a","toSide":"left"},
		{"id":"0299281764dabd08","fromNode":"722337f5ec854b9a","fromSide":"right","toNode":"28359efebb68344e","toSide":"left"},
		{"id":"71344882706d7d0e","fromNode":"722337f5ec854b9a","fromSide":"right","toNode":"83bb47f9e09e16b7","toSide":"left"},
		{"id":"ea0c43d2a2bb095c","fromNode":"83bb47f9e09e16b7","fromSide":"right","toNode":"716aee61a4776dd7","toSide":"left"},
		{"id":"9881b4721718bf62","fromNode":"da25afbe532a3e7c","fromSide":"right","toNode":"de8384b9e2609515","toSide":"left"},
		{"id":"71afabd1f7eb2467","fromNode":"0ff08add48b12c81","fromSide":"right","toNode":"bb519a445c485094","toSide":"left"},
		{"id":"1693757e8c6e73a3","fromNode":"94ba05c91acd5c9e","fromSide":"right","toNode":"3148dbc2025f09ce","toSide":"left"},
		{"id":"ca05e2f5e64c69fd","fromNode":"4e8a1aa49652987f","fromSide":"right","toNode":"6b144b3b7de110c8","toSide":"left"},
		{"id":"398748986bb97c20","fromNode":"94b1a4356d153e45","fromSide":"right","toNode":"59e6daa8e4a41ce1","toSide":"left"},
		{"id":"878d5060ebd905d3","fromNode":"5ce78d2ae24435bd","fromSide":"right","toNode":"385803411652e042","toSide":"left"},
		{"id":"f15b8a82d5096277","fromNode":"716aee61a4776dd7","fromSide":"right","toNode":"560234b8e73e66ec","toSide":"left"},
		{"id":"7cd6536818a54f4f","fromNode":"cface8fda6f54f9d","fromSide":"right","toNode":"560234b8e73e66ec","toSide":"left"},
		{"id":"7158e777559bcc0a","fromNode":"83bb47f9e09e16b7","fromSide":"right","toNode":"37a4a7b2a3d2246e","toSide":"left"},
		{"id":"9bd25b2d022fdef3","fromNode":"5ce78d2ae24435bd","fromSide":"right","toNode":"df06bec6fc172978","toSide":"left"},
		{"id":"92fec2f984882ccc","fromNode":"daa3647926adb104","fromSide":"right","toNode":"2774dc0ff2a88c24","toSide":"left"},
		{"id":"40f80078e8bee82d","fromNode":"2774dc0ff2a88c24","fromSide":"right","toNode":"4b10cd6f72f2fa76","toSide":"left"},
		{"id":"d2d4d9bbbda425f1","fromNode":"4b10cd6f72f2fa76","fromSide":"right","toNode":"432f1244ab58772b","toSide":"left"},
		{"id":"a1f3d070f45a7f34","fromNode":"635535362959390c","fromSide":"right","toNode":"3e8c7a808c13d0e0","toSide":"left"},
		{"id":"1b65f113ec85e1da","fromNode":"921cbd1da6de63a7","fromSide":"right","toNode":"635535362959390c","toSide":"left"},
		{"id":"1ed7ac0f852d848e","fromNode":"3e8c7a808c13d0e0","fromSide":"right","toNode":"8da1692afb234b50","toSide":"left"},
		{"id":"472c2de7419f4e1c","fromNode":"37a4a7b2a3d2246e","fromSide":"right","toNode":"8da1692afb234b50","toSide":"left"},
		{"id":"3fe124ed98d9248c","fromNode":"8da1692afb234b50","fromSide":"right","toNode":"f529798c17e7accc","toSide":"left"},
		{"id":"115ac4f9404a2e3e","fromNode":"8da1692afb234b50","fromSide":"right","toNode":"2917739715e2aaaa","toSide":"left"},
		{"id":"aacd9089ecead722","fromNode":"8da1692afb234b50","fromSide":"right","toNode":"be898ddd631aad80","toSide":"left"},
		{"id":"db6b2ac83e5f188c","fromNode":"8da1692afb234b50","fromSide":"right","toNode":"213ff20ec0bb65d4","toSide":"left"},
		{"id":"87046118e7378984","fromNode":"6446fde7f6d43fcb","fromSide":"right","toNode":"056a8ee9b42ebffe","toSide":"left"},
		{"id":"53ca6434b833fc86","fromNode":"f529798c17e7accc","fromSide":"right","toNode":"38d969c6c4377c26","toSide":"left"},
		{"id":"5c4bcd454ae945c9","fromNode":"213ff20ec0bb65d4","fromSide":"right","toNode":"38d969c6c4377c26","toSide":"left"},
		{"id":"3693ac3778ae473a","fromNode":"be898ddd631aad80","fromSide":"right","toNode":"38d969c6c4377c26","toSide":"left"},
		{"id":"9df082b5c4999d5b","fromNode":"2917739715e2aaaa","fromSide":"right","toNode":"38d969c6c4377c26","toSide":"left"},
		{"id":"3a2866b5f007b50d","fromNode":"056a8ee9b42ebffe","fromSide":"right","toNode":"49fd145ed881e7ce","toSide":"left"},
		{"id":"75aa90254ed68c29","fromNode":"056a8ee9b42ebffe","fromSide":"right","toNode":"3041a0ed51d339b4","toSide":"left"},
		{"id":"83e73c74283a3bfb","fromNode":"3041a0ed51d339b4","fromSide":"right","toNode":"86bb7b590ab109f7","toSide":"left"},
		{"id":"8ef3dbfcd8779140","fromNode":"e40295176b76ac9d","fromSide":"right","toNode":"a1fb7a9683645678","toSide":"left"},
		{"id":"c26ed69666b2cff4","fromNode":"38b292f4c79636a2","fromSide":"right","toNode":"7253fad9371ed642","toSide":"left"},
		{"id":"f64cb48ed98d6aac","fromNode":"bdb4a5e7e296d825","fromSide":"right","toNode":"39654c370351ebee","toSide":"left"},
		{"id":"0ec0f3021344ec2a","fromNode":"ad0a3e0b2a4d75b6","fromSide":"left","toNode":"d5214a8de17c21f1","toSide":"left"},
		{"id":"7bb6caed5ff8d351","fromNode":"ad0a3e0b2a4d75b6","fromSide":"left","toNode":"20ad70c766f9e36a","toSide":"left"},
		{"id":"6b6bc47c43aa3f2b","fromNode":"ad0a3e0b2a4d75b6","fromSide":"left","toNode":"89a2013472610a35","toSide":"left"}
	]
}